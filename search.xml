<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Swift å®žçŽ°å°†è‡ªå®šä¹‰å¯¹è±¡ä¿å­˜åˆ° UserDefaults ä¸­]]></title>
    <url>%2FSwift-%E5%AE%9E%E7%8E%B0%E5%B0%86%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%B1%A1%E4%BF%9D%E5%AD%98%E5%88%B0-UserDefaults-%E4%B8%AD%2F</url>
    <content type="text"><![CDATA[å¼•è¨€å¤§å®¶éƒ½çŸ¥é“ï¼ŒiOS æ”¯æŒè¿™äº›ç±»åž‹çš„å¯¹è±¡ï¼Œç›´æŽ¥ä¿å­˜åˆ° UserDefaults ä¸­ï¼Œæ¯”å¦‚ Intï¼ŒStringï¼ŒFloatï¼ŒDoubleï¼ŒBoolï¼ŒURLï¼ŒData æˆ–è€…è¿™äº›ç±»åž‹çš„é›†åˆã€‚ ä½†æ˜¯å¦‚æžœæˆ‘ä»¬æƒ³è¦å°†è‡ªå®šä¹‰å¯¹è±¡ä¿å­˜åˆ° UserDefaults ä¸­å‘¢ï¼Ÿ çœ‹çœ‹è‹¹æžœçš„è¯´æ³•ï¼š If you want to store any other type of object, you should typically archive it to create an instance of NSDataå¦‚æžœè¦å­˜å‚¨ä»»ä½•å…¶ä»–ç±»åž‹çš„å¯¹è±¡ï¼Œé€šå¸¸åº”è¯¥å¯¹å…¶è¿›è¡Œå½’æ¡£ï¼Œæ¥åˆ›å»ºä¸€ä¸ª NSData å®žä¾‹ã€‚Apple Documentation çŽ°åœ¨æˆ‘ä»¬çŸ¥é“è¦ä¿å­˜è‡ªå®šä¹‰å¯¹è±¡åˆ° UserDefaults ä¸­ï¼Œå°±è¦æŠŠå®ƒè½¬æ¢ä¸º Data å¯¹è±¡ã€‚åŸºäºŽæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Codable æ¥åšè¿›ä¸€æ­¥çš„å®Œå–„ã€‚ å£°æ˜Žå…ˆå®šä¹‰ä¸€ä¸ªåè®® ObjectSavableï¼Œå£°æ˜Žäº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªä¿å­˜å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæŸ¥è¯¢å¯¹è±¡ã€‚ 1234protocol ObjectSavable &#123; func setObject&lt;Object&gt;(_ object: Object, forKey: String) throws where Object: Encodable func getObject&lt;Object&gt;(forKey: String, castTo type: Object.Type) throws -&gt; Object where Object: Decodable&#125; setObject æ–¹æ³•æŽ¥å—ä¸€ä¸ªç±»åž‹ç¬¦åˆ Encodable åè®®çš„å¯¹è±¡å’Œä¸€ä¸ªæƒ³è¦ä¸Žä¹‹å…³è”çš„é”®ï¼› getObject æ–¹æ³•æŽ¥å—ä¸€ä¸ªé”®ï¼Œé€šè¿‡è¯¥é”®æˆ‘ä»¬å°†ä»Ž UserDefaults æŸ¥è¯¢å…³è”çš„å¯¹è±¡ï¼Œå¹¶æŽ¥å—ä¸€ä¸ªç¬¦åˆ Decodable åè®®çš„ç±»åž‹ã€‚ä¸ºäº†ä¼ é€’ç±»åž‹æœ¬èº«ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å…ƒç±»åž‹ A metatype type refers to the type of any type, including class types, structure types, enumeration types, and protocol types. å…ƒç±»åž‹æŒ‡çš„æ˜¯ä»»ä½•ç±»åž‹çš„ç±»åž‹ï¼ŒåŒ…æ‹¬ç±»ç±»åž‹ã€ç»“æž„ä½“ç±»åž‹ã€æžšä¸¾ç±»åž‹å’Œåè®®ç±»åž‹ã€‚ Apple Documentation å®žçŽ°ObjectSavable åè®®å·²ç»å£°æ˜Žå¥½äº†ï¼Œé€šè¿‡ç»™ UserDefaults æ·»åŠ æ‰©å±•ï¼Œéµå¾ª ObjectSavable åè®®ï¼Œå¹¶æä¾›å…·ä½“çš„å®žçŽ°ï¼š 123456789101112131415161718192021222324extension UserDefaults: ObjectSavable &#123; func setObject&lt;Object&gt;(_ object: Object, forKey: String) throws where Object: Encodable &#123; let encoder = JSONEncoder() do &#123; let data = try encoder.encode(object) set(data, forKey: forKey) &#125; catch &#123; throw ObjectSavableError.unableToEncode &#125; &#125; func getObject&lt;Object&gt;(forKey: String, castTo type: Object.Type) throws -&gt; Object where Object: Decodable &#123; guard let data = data(forKey: forKey) else &#123; throw ObjectSavableError.noValue &#125; let decoder = JSONDecoder() do &#123; let object = try decoder.decode(type, from: data) return object &#125; catch &#123; throw ObjectSavableError.unableToDecode &#125; &#125;&#125; çœ‹ä¸‹å®žçŽ°é‡Œéƒ½åšäº†ä»€ä¹ˆï¼š setObjectå…ˆåˆ›å»ºäº†ä¸€ä¸ª JSONEncoder å®žä¾‹ï¼Œä½¿ç”¨è¯¥å®žä¾‹å°†è‡ªå®šä¹‰å¯¹è±¡è½¬æ¢ä¸º Data å¯¹è±¡ã€‚ç„¶åŽæŠŠå®ƒä¿å­˜åˆ° UserDefaults ä¸­ã€‚ getObjectå…ˆä½¿ç”¨ guard-let ä¿è¯æ˜¯èƒ½å–åˆ°æ•°æ®çš„ã€‚ç„¶åŽåˆ›å»ºä¸€ä¸ª JSONDecoder å¯¹è±¡ï¼Œæœ€åŽï¼Œä½¿ç”¨è¯¥å®žä¾‹å°†è¿™ä¸ª Data å¯¹è±¡è§£ç ä¸ºç»™å®šçš„ç±»åž‹å¹¶è¿”å›žå®ƒã€‚ æ³¨æ„ å¦‚æžœä¸Šé¢çš„ä»»ä½•ä¸€ä¸ªæ–¹æ³•åœ¨ä»»ä½•ä¸€ä¸ªæ­¥éª¤ä¸Šå¤±è´¥äº†ï¼Œå®ƒå°±ä¼šæŠ›å‡ºä¸€ä¸ªç›¸å…³çš„é”™è¯¯ï¼Œæç¤ºå¼€å‘äººå‘˜å¯èƒ½å‡ºäº†ä»€ä¹ˆé—®é¢˜ã€‚ ä¸ºäº†æ–¹ä¾¿ç®¡ç†è¿™äº›é”™è¯¯ï¼Œå®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²æžšä¸¾ ObjectSavableError å¹¶éµå¾ª LocalizedError åè®®ï¼š 123456789enum ObjectSavableError: String, LocalizedError &#123; case unableToEncode = "Unable to encode object into data" case noValue = "No data object found for the given key" case unableToDecode = "Unable to decode object into given type" var errorDescription: String? &#123; rawValue &#125;&#125; ä¸¾ä¸ªä¾‹å­æ‰€æœ‰å®žçŽ°å·²ç»å®Œæˆï¼Œ æ¥ä¸ªä¾‹å­çœ‹çœ‹çœ‹æ•ˆæžœï¼š å…ˆå®šä¹‰ä¸€ä¸ª Book ç»“æž„ä½“ï¼š 12345struct Book: Codable &#123; var title: String var authorName: String var pageCount: Int&#125; å­˜å‚¨ç”±äºŽæ­¤æ–¹æ³•åœ¨å¤±è´¥æ—¶ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨ do-try-catch è¯­å¥æ¥æ•æ‰é”™è¯¯ 12345678let userDefaults = UserDefaults.standardlet playingItMyWay = Book(title: "ã€Šå¾®ä¿¡èƒŒåŽçš„äº§å“è§‚ã€‹", authorName: "é¾™å“¥", pageCount: 888)do &#123; try userDefaults.setObject(playingItMyWay, forKey: "WeChat")&#125; catch &#123; print(error.localizedDescription)&#125; æŸ¥è¯¢print(playingItMyWay) è¯­å¥å°†è¾“å‡ºï¼šBook(title: â€œã€Šå¾®ä¿¡èƒŒåŽçš„äº§å“è§‚ã€‹â€, authorName: â€œé¾™å“¥â€, pageCount: 888) 12345678let userDefaults = UserDefaults.standarddo &#123; let playingItMyWay = try userDefaults.getObject(forKey: "WeChat", castTo: Book.self) print(playingItMyWay) &#125; catch &#123; print(error.localizedDescription)&#125; æ€»ç»“å¦‚æžœè§‰å¾—å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å¦¨åœ¨é¡¹ç›®ä¸­è¯•è¯•å§~ æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼šSwift å®žçŽ°å°†è‡ªå®šä¹‰å¯¹è±¡ä¿å­˜åˆ° UserDefaults ä¸­ - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift ä¸­çš„ Self & Self.Type & self]]></title>
    <url>%2FSwift-%E4%B8%AD%E7%9A%84-Self-Self-Type-self%2F</url>
    <content type="text"><![CDATA[ä½ å¯èƒ½åœ¨å†™ä»£ç çš„æ—¶å€™å·²ç»ç”¨è¿‡å¾ˆå¤šæ¬¡ self è¿™ä¸ªå…³é”®è¯äº†ï¼Œä½†æ˜¯ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ä»€ä¹ˆæ˜¯ self å‘¢ï¼Ÿä»Šå¤©æˆ‘ä»¬å°±æ¥çœ‹çœ‹ï¼š ä»€ä¹ˆæ˜¯ selfã€Self å’Œ Self.Typeï¼Ÿ éƒ½åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Ÿ selfè¿™ä¸ªå¤§å®¶ç”¨çš„æ¯”è¾ƒå¤šäº†ï¼Œself é€šå¸¸ç”¨äºŽå½“ä½ éœ€è¦å¼•ç”¨ä½ å½“å‰æ‰€åœ¨èŒƒå›´å†…çš„å¯¹è±¡æ—¶ã€‚æ‰€ä»¥ï¼Œä¾‹å¦‚ï¼Œå¦‚æžœåœ¨ Rocket çš„å®žä¾‹æ–¹æ³•ä¸­ä½¿ç”¨ selfï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œself å°†æ˜¯è¯¥ Rocket çš„å®žä¾‹ã€‚è¿™ä¸ªå¾ˆå¥½ç†è§£~ 12345678struct Rocket &#123; func launch() &#123; print("10 ç§’å†…å‘å°„ \(self)") &#125;&#125;let rocket = Rocket()rocket.launch() //10 ç§’å†…å‘å°„ Rocket() ä½†æ˜¯ï¼Œå¦‚æžœè¦åœ¨ç±»æ–¹æ³•æˆ–é™æ€æ–¹æ³•ä¸­ä½¿ç”¨ selfï¼Œè¯¥æ€Žä¹ˆåŠžï¼Ÿåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œself ä¸èƒ½ä½œä¸ºå¯¹å®žä¾‹çš„å¼•ç”¨ï¼Œå› ä¸ºæ²¡æœ‰å®žä¾‹ï¼Œè€Œ self å…·æœ‰å½“å‰ç±»åž‹çš„å€¼ã€‚è¿™æ˜¯å› ä¸ºé™æ€æ–¹æ³•å’Œç±»æ–¹æ³•å­˜åœ¨äºŽç±»åž‹æœ¬èº«è€Œä¸æ˜¯å®žä¾‹ä¸Šã€‚ 12345678910111213141516class Dog &#123; class func bark() &#123; print("\(self) æ±ªæ±ªæ±ª!") &#125;&#125;Dog.bark() //Dog æ±ªæ±ªæ±ª!struct Cat &#123; static func meow() &#123; print("\(self) å–µå–µå–µ!") &#125;&#125;Cat.meow() // Cat å–µå–µå–µ! å…ƒç±»åž‹è¿˜æœ‰ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚æ‰€æœ‰çš„å€¼éƒ½åº”è¯¥æœ‰ä¸€ä¸ªç±»åž‹ï¼ŒåŒ…æ‹¬ selfã€‚å°±åƒä¸Šé¢æåˆ°çš„ï¼Œé™æ€å’Œç±»æ–¹æ³•å­˜åœ¨äºŽç±»åž‹ä¸Šï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œself å°±æ‹¥æœ‰äº†ä¸€ç§ç±»åž‹ï¼šSelf.Typeã€‚æ¯”å¦‚ï¼šDog.Type å°±ä¿å­˜æ‰€æœ‰ Dog çš„ç±»åž‹å€¼ã€‚ åŒ…å«å…¶ä»–ç±»åž‹çš„ç±»åž‹ç§°ä¸ºå…ƒç±»åž‹ã€‚ æœ‰ç‚¹ç»•å“ˆï¼Œç®€å•æ¥è¯´ï¼Œå…ƒç±»åž‹ Dog.Type ä¸ä»…å¯ä»¥ä¿å­˜ Dog ç±»åž‹çš„å€¼ï¼Œè¿˜å¯ä»¥ä¿å­˜å®ƒçš„æ‰€æœ‰å­ç±»çš„å€¼ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œå…¶ä¸­ Labrador æ˜¯ Dog çš„ä¸€ä¸ªå­ç±»ã€‚ 1234567891011class Dog &#123; class func bark() &#123; print("\(self) æ±ªæ±ªæ±ª!") &#125;&#125;class Labrador: Dog &#123;&#125;Labrador.bark() //Labrador æ±ªæ±ªæ±ª! å¦‚æžœä½ æƒ³å°† type æœ¬èº«å½“åšä¸€ä¸ªå±žæ€§ï¼Œæˆ–è€…å°†å…¶ä¼ é€’åˆ°å‡½æ•°ä¸­ï¼Œé‚£ä¹ˆä½ ä¹Ÿå¯ä»¥å°† type æœ¬èº«ä½œä¸ºå€¼ä½¿ç”¨ã€‚è¿™æ—¶å€™ï¼Œå°±å¯ä»¥è¿™æ ·ç”¨ï¼šType.selfã€‚ 1234567let dogType: Dog.Type = Labrador.selffunc saySomething(dog: Dog.Type) &#123; print("\(dog) æ±ªæ±ªæ±ª!")&#125;saySomething(dog: dogType) // Labrador æ±ªæ±ªæ±ª! Selfæœ€åŽï¼Œå°±æ˜¯å¤§å†™ s å¼€å¤´çš„ Selfã€‚åœ¨åˆ›å»ºå·¥åŽ‚æ–¹æ³•æˆ–ä»Žåè®®æ–¹æ³•è¿”å›žå…·ä½“ç±»åž‹æ—¶ï¼Œéžå¸¸çš„æœ‰ç”¨ï¼š 123456789101112131415161718192021struct Rocket &#123; func launch() &#123; print("10 ç§’å†…å‘å°„ \(self)") &#125;&#125;extension Rocket &#123; static func makeRocket() -&gt; Self &#123; return Rocket() &#125;&#125;protocol Factory &#123; func make() -&gt; Self&#125;extension Rocket: Factory &#123; func make() -&gt; Rocket &#123; return Rocket() &#125;&#125; æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼šSwift ä¸­çš„ Self &amp; Self.Type &amp; self - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift ä¸­çš„å…³é”®å­—â€”â€”Lazy]]></title>
    <url>%2FSwift-%E4%B8%AD%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%E2%80%94%E2%80%94Lazy%2F</url>
    <content type="text"><![CDATA[å¼•è¨€ç›¸ä¿¡å¤§å®¶åœ¨æ—¥å¸¸å¼€å‘æ—¶ï¼Œä¸€å®šç”¨è¿‡å…³é”®å­— Lazyã€‚é‚£ä½¿ç”¨å®ƒæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿä»€ä¹ˆæ—¶å€™æ‰éœ€è¦ä½¿ç”¨å‘¢ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹å§~ ä½¿ç”¨ Lazy å¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼š å®žä¾‹åŒ–å¯¹è±¡æ—¶ä¸ç”¨ç»™å®ƒçš„éƒ¨åˆ†æˆ–å…¨éƒ¨æˆå‘˜åˆå§‹å€¼ è°ƒç”¨ä¹‹å‰ï¼Œæ°¸è¿œä¸ä¼šæ‰§è¡Œ å­˜å‚¨è®¡ç®—å€¼å¹¶é˜²æ­¢é‡å¤è®¡ç®— å£°æ˜Ž Lazyåªè¦åœ¨æˆå‘˜å˜é‡å‰é¢æ·»åŠ ä¸€ä¸ª Lazy å…³é”®å­—ï¼Œå°±å¯ä»¥å°†å…¶å£°æ˜Žä¸º lazyã€‚æƒ°æ€§æˆå‘˜å¿…é¡»å£°æ˜Žä¸º varã€‚è‹¹æžœçš„è¯´æ³•ï¼š You must always declare a lazy property as a variable (with the var keyword), because its initial value might not be retrieved until after instance initialization completes.å¿…é¡»å§‹ç»ˆå°†æƒ°æ€§å±žæ€§å£°æ˜Žä¸ºå¯å˜çš„(ä½¿ç”¨ var å…³é”®å­—) ï¼Œå› ä¸ºåœ¨å®žä¾‹åˆå§‹åŒ–å®Œæˆä¹‹å‰ï¼Œå¯èƒ½æ— æ³•æ£€ç´¢å…¶åˆå§‹å€¼ ç”±äºŽæ‰€æœ‰å¸¸é‡åœ¨åˆå§‹åŒ–ç»“æŸæ—¶éƒ½å¿…é¡»æœ‰ä¸€ä¸ªå€¼ï¼Œå› æ­¤æœ‰å¿…è¦å°†æƒ°æ€§å±žæ€§å£°æ˜Žä¸º varï¼Œä¸¾ä¸ªðŸŒ°ï¼Œä»£ç ä¸­çš„ fullname æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œåˆå§‹åŒ–æ—¶æ²¡æœ‰èµ‹å€¼ï¼Œå°±æŠ¥é”™äº†ã€‚å¦ä¸€ä¸ªheavyComputationè¢«å£°æ˜Žä¸º lazyï¼Œåˆå§‹åŒ–æ—¶æ²¡æœ‰èµ‹å€¼ï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚è¿™ä¸ªå¤§å®¶åº”è¯¥éƒ½ç†è§£ã€‚ é€šè¿‡æŠŠå±žæ€§å£°æ˜Žä¸º lazyï¼Œå°±å‡è½»äº†åˆå§‹åŒ–çš„å·¥ä½œã€‚è¿™å°±æ˜¯æ‡’åŠ è½½äº†ã€‚ æ‡’åŠ è½½å¦ä¸€ä¸ªä½¿ç”¨ lazy çš„å¥½å¤„ï¼šåŠ å¿«åˆå§‹åŒ–é€Ÿåº¦ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›å°½å¿«èƒ½å®žä¾‹åŒ–æˆ‘ä»¬çš„å¯¹è±¡ã€‚å› æ­¤ï¼Œä»»ä½•ç¹é‡çš„ä»»åŠ¡æˆ–è®¡ç®—ï¼Œå°½é‡é¿å…åœ¨åˆå§‹åŒ–æ—¶æ¥åšï¼Œä¹Ÿå¿…é¡»è¦é¿å…ã€‚ç›´åˆ°çœŸæ­£éœ€è¦ä»–ä»¬çš„æ—¶å€™ï¼Œæ‰åŽ»è°ƒç”¨ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸ªä¾‹å­ã€‚ ä»Žä¸Šé¢çš„ä¾‹å­å¯ä»¥æ˜Žæ˜¾çœ‹å‡ºï¼Œæ‰€æœ‰çš„è®¡ç®—éƒ½æ˜¯åœ¨åˆå§‹åŒ– User å®žä¾‹æ—¶å®Œæˆçš„ã€‚è¿™æ˜¯å› ä¸º heavycalculation è¢«å£°æ˜Žä¸º let å¸¸é‡ï¼Œéœ€è¦åœ¨åˆå§‹åŒ–ç»“æŸæ—¶å…·æœ‰å…·ä½“çš„å€¼ã€‚å› æ­¤ï¼Œå®ƒæ˜¯åœ¨åŒä¸€æ—¶é—´è®¡ç®—ã€‚è¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚ æˆ‘ä»¬æŠŠ heavycalculation å£°æ˜Žä¸º lazyï¼Œåˆå§‹åŒ–æ—¶å°±ä¸ä¼šè®¡ç®—å®ƒçš„å€¼ï¼Œç›´åˆ°ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼š é¿å…é‡å¤è®¡ç®—æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è®¡ç®—å±žæ€§è¾¾åˆ°æ‡’åŠ è½½çš„æ•ˆæžœï¼šæ³¨æ„ä¸‹é¢çš„ä»£ç å’Œä¸Šé¢çš„ä»£ç çš„åŒºåˆ«ï¼š ä»Žè¿™ä¸ªç¤ºä¾‹ä¸­å¯ä»¥æ˜Žæ˜¾çœ‹å‡ºï¼Œè®¡ç®—å±žæ€§åœ¨åˆå§‹åŒ–æ—¶ä¹Ÿæ²¡æœ‰è¢«è®¡ç®—ã€‚ ä½†è¿™æ˜¯å¦æ„å‘³ç€è®¡ç®—å±žæ€§å’Œ lazy å±žæ€§ç›¸ä¼¼å‘¢ï¼Ÿè™½ç„¶çœ‹èµ·æ¥å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯ä»–ä»¬æœ‰ä¸€ä¸ªéžå¸¸åŸºæœ¬çš„åŒºåˆ«ï¼Œè¿™å°±ä½¿å¾— lazy æ›´åŠ æœ‰ç”¨ã€‚ è®©æˆ‘ä»¬è¯•è¯•å¤šæ¬¡è®¿é—®è®¡ç®—å±žæ€§ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ ä»Žä»£ç ä¸­å‘çŽ°ï¼Œå½“æˆ‘ä»¬å¤šæ¬¡è®¿é—®è®¡ç®—å±žæ€§ãƒ¼ heavycalculation æ—¶ï¼Œæ¯æ¬¡è®¿é—®éƒ½ä¼šè®¡ç®—ä¸€é(è¿™é‡Œæ˜¯ä¸¤æ¬¡)ã€‚ å†æ¥çœ‹çœ‹æŠŠ heavycalculation å£°æ˜Žä¸º lazy æ—¶ï¼Œå†å¤šæ¬¡è°ƒç”¨ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼š è¿™æ¬¡åªè®¡ç®—è¯¥å±žæ€§ä¸€æ¬¡ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨ç¬¬ä¸€æ¬¡è®¡ç®—å€¼ä¹‹åŽï¼Œå®ƒçš„å€¼å°±ä¼šè¢«ä¿å­˜ä¸‹æ¥ä»¥å¤‡ä¸‹æ¬¡ä½¿ç”¨ï¼Œå¹¶ä¸”ä¸Žä½¿ç”¨è®¡ç®—å±žæ€§çš„æƒ…å†µä¸åŒï¼Œå£°æ˜Žä¸º lazy åŽï¼Œä¸ä¼šé‡å¤è®¡ç®—å€¼ã€‚ å› æ­¤ï¼Œæ ¹æ®ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ç¡®å®š lazy å±žæ€§å­˜å‚¨å€¼ï¼Œå¹¶ä¸”ä¸ä¼šåœ¨æ¯æ¬¡è®¿é—®å®ƒä»¬æ—¶è¿›è¡Œè®¡ç®—ã€‚å› æ­¤ï¼ŒèŠ‚çœäº†å¤§é‡çš„å¤„ç†å™¨èµ„æºå’Œæ—¶é—´ã€‚ ä½¿ç”¨æ³¨æ„äº‹é¡¹åœ¨ç†è§£äº†æ‡’æƒ°çš„å·¥ä½œåŽŸç†ä¹‹åŽï¼ŒçŽ°åœ¨æˆ‘ä»¬å¿…é¡»ç†è§£å®ƒçš„ç”¨æ³•ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨æ—¶è¦å°å¿ƒè°¨æ…Žã€‚ æ³¨æ„å› ä¸º lazy å±žæ€§åªè®¡ç®—ä¸€æ¬¡ï¼Œå› æ­¤å†…éƒ¨é€»è¾‘ä¸èƒ½ä¾èµ–äºŽå…¶ä»–å˜é‡ï¼Œå°¤å…¶æ˜¯é‚£äº›é¢‘ç¹å˜åŒ–çš„å˜é‡ã€‚è¿™æ˜¯å› ä¸ºï¼Œåœ¨ç¬¬ä¸€æ¬¡è®¡ç®—åŽï¼Œå½“å…¶ä»–çš„å˜é‡çš„å€¼å˜åŒ–åŽï¼Œlazy å±žæ€§çš„å€¼ä¸èƒ½åŒæ­¥æ›´æ–°ï¼Œä½¿ç”¨æ—¶å°±ä¼šå‡ºé”™ã€‚ æ­¤å¤–ï¼Œlazy ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è¿™æ„å‘³ç€å½“æˆ‘ä»¬åœ¨ä¸åŒçš„çº¿ç¨‹ä¸Šè®¿é—®åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œå¯èƒ½ä¼šå¾—åˆ°ä¸åŒçš„å€¼ã€‚è‹¹æžœçš„è¯´æ³•ï¼š If a property marked with the lazy modifier is accessed by multiple threads simultaneously and the property has not yet been initialized, thereâ€™s no guarantee that the property will be initialized only once.å¦‚æžœæ ‡è®°ä¸º lazy ä¿®é¥°ç¬¦çš„å±žæ€§è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ï¼Œè€Œè¯¥å±žæ€§å°šæœªåˆå§‹åŒ–ï¼Œåˆ™ä¸èƒ½ä¿è¯è¯¥å±žæ€§åªåˆå§‹åŒ–ä¸€æ¬¡ã€‚ è¿™è¡¨æ˜Žï¼Œè¿‡å¤šä½¿ç”¨ lazy å®žé™…ä¸Šå¯èƒ½ä¼šäº§æ„æƒ³ä¸åˆ°çš„é”™è¯¯ã€‚ä½†æœ‰äº›å•¥æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³æ‡’æ•£åœ°åšäº‹ã€‚ç”±äºŽ UI æ€»æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸Šåˆ·æ–°ï¼Œè¿™ä½¿å¾—å®ƒæˆä¸ºæ‡’åŠ è½½çš„ä¸€ä¸ªå¾ˆå¥½çš„é€‰é¡¹ã€‚ æ€»ç»“lazy å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œä½†åœ¨å¹³æ—¶å¼€å‘æ—¶ï¼Œä¹Ÿä¸èƒ½ä¸ºäº†ç”¨è€Œç”¨ï¼Œè¿˜æ˜¯è¦æ ¹æ®å®žé™…æƒ…å†µï¼Œé…Œæƒ…ä½¿ç”¨ã€‚åŒæ—¶æ³¨æ„å¤šçº¿ç¨‹çš„å‘ã€‚ æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼šSwift ä¸­çš„å…³é”®å­—â€”â€”Lazy - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift ä¸­çš„é“¾è¡¨]]></title>
    <url>%2FSwift-%E4%B8%AD%E7%9A%84%E9%93%BE%E8%A1%A8%2F</url>
    <content type="text"><![CDATA[å¼•è¨€æ•°æ®ç»“æž„æ˜¯ç”¨äºŽåœ¨è®¡ç®—æœºä¸­ç»„ç»‡å’Œå­˜å‚¨æ•°æ®çš„å®¹å™¨ï¼Œä»¥ä¾¿æˆ‘ä»¬èƒ½å¤Ÿæœ‰æ•ˆåœ°æ‰§è¡Œæ“ä½œã€‚å®ƒä»¬æ˜¯ç¼–ç¨‹æœ€åŸºæœ¬çš„ç»„æˆéƒ¨åˆ†ã€‚æœ€çŸ¥åå’Œæœ€å¸¸ç”¨çš„æ•°æ®ç»“æž„ï¼Œé™¤äº† æ•°ç»„ã€ æ ˆ å’Œ é˜Ÿåˆ—ç­‰ï¼Œè¿˜æœ‰ä¸€ä¸ªéžå¸¸æœ‰ç”¨çš„æ•°æ®ç»“æž„â€“é“¾è¡¨ã€‚ä¸è¿‡ï¼ŒSwift æ²¡æœ‰æä¾›å†…ç½®çš„é“¾è¡¨ç»“æž„ï¼Œæ‰€ä»¥ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥ä¸€æ­¥æ­¥çš„å®žçŽ°ä¸€ä¸ªã€‚ ä»€ä¹ˆæ˜¯å•é“¾è¡¨ é“¾è¡¨æ˜¯é“¾æŽ¥èŠ‚ç‚¹çš„åˆ—è¡¨ã€‚èŠ‚ç‚¹æ˜¯ä¸€ä¸ªå•ç‹¬çš„å…ƒç´ ï¼Œå®ƒåŒ…å«ä¸€ä¸ªæ³›åž‹å€¼å’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚é“¾è¡¨æœ‰ä»¥ä¸‹å‡ ç§ç±»åž‹: å•é“¾è¡¨ æ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚æ“ä½œåªèƒ½å‘ä¸€ä¸ªæ–¹å‘ä¼ é€’ åŒå‘é“¾è¡¨ æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚æ“ä½œå¯ä»¥å‘å‰å’Œå‘åŽä¸¤ä¸ªæ–¹å‘è¿›è¡Œ å¾ªçŽ¯é“¾è¡¨ æœ€åŽä¸€ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘æœ€åŽä¸€ä¸ªèŠ‚ç‚¹ ä»Šå¤©æˆ‘ä»¬æ¥å®žçŽ° Swift ä¸­çš„å•é“¾è¡¨ã€‚ NodeNode å¿…é¡»å®šä¹‰ä¸º Classã€‚å› ä¸ºè®¾è®¡åˆ°å¼•ç”¨ï¼Œæ‰€ä»¥å®ƒéœ€è¦æ˜¯å¼•ç”¨ç±»åž‹ï¼ŒNode ç±»æœ‰ä¸¤ä¸ªå±žæ€§ï¼š value å­˜å‚¨èŠ‚ç‚¹å®žé™…å€¼çš„æ³›åž‹æ•°æ®ç±»åž‹ next æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ 123456789class Node&lt;T&gt; &#123; var value: T var next: Node&lt;T&gt;? init(value: T, next: Node&lt;T&gt;? = nil) &#123; self.value = value self.next = next &#125;&#125; é“¾è¡¨ä¸Ž Node ä¸åŒï¼Œé“¾è¡¨æ˜¯ä¸€ç§å€¼ç±»åž‹ï¼Œå®šä¹‰ä¸º Structã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œé“¾è¡¨æœ‰ä¸‰ä¸ªåŸºæœ¬å±žæ€§: headé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ tailé“¾è¡¨çš„æœ€åŽä¸€ä¸ªèŠ‚ç‚¹ isEmptyé“¾è¡¨æ˜¯å¦ä¸ºç©º å½“ç„¶ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ å…¶ä»–å±žæ€§ï¼Œä¾‹å¦‚: counté“¾è¡¨çš„èŠ‚ç‚¹ä¸ªæ•° descriptioné“¾è¡¨çš„æè¿°æ–‡æœ¬ 12345678struct LinkedList&lt;T&gt; &#123; var head: Node&lt;T&gt;? var tail: Node&lt;T&gt;? var isEmpty: Bool &#123; head == nil &#125; init() &#123;&#125;&#125; ä¸Žæ ˆå’Œé˜Ÿåˆ—ä¸åŒï¼Œé“¾è¡¨ä¸åŒ…å«å¯ä»¥ç›´æŽ¥è°ƒç”¨å’Œä½¿ç”¨çš„æ•°æ®é›†åˆã€‚åˆ—è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å¿…é¡»é“¾æŽ¥åˆ°ä¸‹ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹(å¦‚æžœæœ‰çš„è¯)ã€‚ PushæŠŠæ•°æ®æ·»åŠ åˆ°é“¾è¡¨å¤´éƒ¨ï¼Œè¿™æ„å‘³ç€å½“å‰çš„ head å°†è¢«æ›¿æ¢ä¸ºæ–°èŠ‚ç‚¹ï¼Œæ–°èŠ‚ç‚¹å°†æˆä¸ºé“¾è¡¨çš„ headã€‚ 123456789101112struct LinkedList&lt;T&gt; &#123; ... mutating func push(_ value: T) &#123; head = Node(value: value, next: head) if tail == nil &#123; tail = head &#125; &#125;&#125; é€šè¿‡è°ƒç”¨ push(_ value: T) ï¼Œæˆ‘ä»¬ç”¨è¯¥å€¼åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå¹¶ä½¿æ–°èŠ‚ç‚¹æŒ‡å‘åŽŸæ¥çš„ headã€‚ç„¶åŽæˆ‘ä»¬ç”¨æ–°èŠ‚ç‚¹æ›¿æ¢ headï¼Œè¿™æ ·åŽŸæ¥çš„ head å°±æˆä¸ºé“¾è¡¨çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚ Appendä¸Ž push ç±»ä¼¼ï¼Œæˆ‘ä»¬å°†æ•°æ®æ·»åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚è¿™æ„å‘³ç€å½“å‰çš„å°¾éƒ¨å°†è¢«æ›¿æ¢ä¸ºæ–°èŠ‚ç‚¹ï¼Œæ–°èŠ‚ç‚¹å°†æˆä¸ºæ–°çš„å°¾éƒ¨ã€‚ 12345678910struct LinkedList&lt;T&gt; &#123; ... mutating func append(_ value: T) &#123; let node = Node(value: value) tail?.next = node tail = node &#125;&#125; é€šè¿‡è°ƒç”¨ append(_ value: T) ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå¹¶å°†åŽŸæ¥çš„å°¾éƒ¨æŒ‡å‘æ–°èŠ‚ç‚¹ã€‚æœ€åŽï¼Œæˆ‘ä»¬å°†åŽŸæ¥çš„ tail æ›¿æ¢ä¸ºæ–°çš„èŠ‚ç‚¹ï¼Œå› æ­¤åŽŸæ¥çš„ tail æˆä¸ºåˆ—è¡¨çš„å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚æ–°çš„èŠ‚ç‚¹å°†æˆä¸ºæ–°çš„å°¾éƒ¨ Node Até“¾è¡¨ä¸èƒ½é€šè¿‡ä¸‹æ ‡ç´¢å¼•å–å€¼ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½åƒæ•°ç»„ array[0] é‚£æ ·è¯»å–æ•°æ®é›†åˆã€‚ 1234567891011121314struct LinkedList&lt;T&gt; &#123; ... func node(at index: Int) -&gt; Node&lt;T&gt;? &#123; var currentIndex = 0 var currentNode = head while currentNode != nil &amp;&amp; currentIndex &lt; index &#123; currentNode = currentNode?.next currentIndex += 1 &#125; return currentNode &#125;&#125; ä¸ºäº†èŽ·å–æŸä¸ªç´¢å¼•å¯¹åº”çš„ Nodeï¼Œéœ€è¦éåŽ†ã€‚ Insertæ­£å¦‚æˆ‘ä¹‹å‰æ‰€è¯´ï¼Œé“¾è¡¨ä¸èƒ½é€šè¿‡ç´¢å¼•ä¸‹æ ‡å–å€¼ã€‚é“¾è¡¨åªçŸ¥é“å“ªä¸ªèŠ‚ç‚¹é“¾æŽ¥åˆ°å“ªä¸ªèŠ‚ç‚¹ã€‚ä¸ºäº†å‘Šè¯‰é“¾è¡¨åœ¨ç‰¹å®šä½ç½®æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°é“¾æŽ¥åˆ°è¯¥ä½ç½®çš„èŠ‚ç‚¹ã€‚véœ€è¦ç”¨åˆ°ä¸Šé¢çš„å‡½æ•°ï¼šnode(at index: Int) -&gt; Node&lt;T&gt;? 123456789struct LinkedList&lt;T&gt; &#123; ... func insert(_ value: T, after index: Int) &#123; guard let node = node(at: index) else &#123; return &#125; node.next = Node(value: value, next: node.next) &#125;&#125; é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°ä½äºŽç»™å®šä½ç½®çš„èŠ‚ç‚¹ã€‚æˆ‘ä»¬æŽ¥ä¸‹æ¥è®©å®ƒæŒ‡å‘æ–°èŠ‚ç‚¹ï¼Œæ–°èŠ‚ç‚¹æŒ‡å‘åŽŸæ¥çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ Popæˆ‘ä»¬å°† head ä»Žåˆ—è¡¨ä¸­åˆ é™¤ï¼Œè¿™æ ·ç¬¬äºŒä¸ªèŠ‚ç‚¹å°†æˆä¸º head: 1234567891011121314struct LinkedList&lt;T&gt; &#123; ... mutating func pop() -&gt; T? &#123; defer &#123; head = head?.next if isEmpty &#123; tail = nil &#125; &#125; return head?.value &#125;&#125; è¿”å›žåŽŸæ¥çš„ head çš„å€¼ï¼Œå¹¶ç”¨åŽŸæ¥çš„ä¸‹ä¸ªèŠ‚ç‚¹æ›¿æ¢åŽŸæ¥çš„ headï¼Œè¿™æ ·åŽŸæ¥çš„ä¸‹ä¸ªèŠ‚ç‚¹å°±æˆä¸ºäº† headã€‚ Remove Lastä¸Ž pop() ç±»ä¼¼ï¼Œè¿™æ˜¯åˆ é™¤é“¾è¡¨çš„å°¾éƒ¨ï¼Œå› æ­¤å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹å°†æˆä¸ºå°¾éƒ¨ã€‚ 123456789101112131415161718192021struct LinkedList&lt;T&gt; &#123; ... mutating func removeLast() -&gt; T? &#123; guard let head = head else &#123; return nil &#125; guard let _ = head.next else &#123; return pop() &#125; var previousNode = head var currentNode = head while let next = currentNode.next &#123; previousNode = currentNode currentNode = next &#125; previousNode.next = nil tail = previousNode return currentNode.value &#125;&#125; ä½†ä¸Ž pop() ä¸åŒçš„æ˜¯ï¼ŒåŽ»æŽ‰å°¾éƒ¨èŠ‚ç‚¹æœ‰ç‚¹å¤æ‚ï¼Œå› ä¸ºå°¾éƒ¨ä¸çŸ¥é“å‰ä¸€ä¸ªèŠ‚ç‚¹æ˜¯è°ã€‚æˆ‘ä»¬éœ€è¦éåŽ†é“¾è¡¨ä»¥æ‰¾åˆ°å°¾éƒ¨ä¹‹å‰çš„èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºå°¾éƒ¨ã€‚ å¦‚æžœå¤´éƒ¨æ˜¯nilï¼Œæ„å‘³ç€è¯¥åˆ—è¡¨æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬æ²¡æœ‰ä»€ä¹ˆè¦åˆ é™¤ï¼Œç„¶åŽè¿”å›žnil å¦‚æžœhead.nextæ˜¯nilï¼Œè¿™æ„å‘³ç€åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹åœ¨é“¾è¡¨ä¸­ï¼Œç„¶åŽåˆ é™¤å¤´ å¾ªçŽ¯éåŽ†åˆ—è¡¨ï¼Œæ‰¾åˆ°å°¾éƒ¨ä¹‹å‰çš„èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºå°¾éƒ¨ Remove Afterä¸Ž insert(_ value: T, after index: Int) ç±»ä¼¼ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ‰¾åˆ°å¾…åˆ é™¤ä½ç½®çš„èŠ‚ç‚¹ã€‚ 123456789101112131415struct LinkedList&lt;T&gt; &#123; ... mutating func remove(after index: Int) -&gt; T? &#123; guard let node = node(at: index) else &#123; return nil &#125; defer &#123; if node.next === tail &#123; tail = node &#125; node.next = node.next?.next &#125; return node.next?.value &#125;&#125; ç§»é™¤æŒ‡å®šç´¢å¼•å¤„çš„èŠ‚ç‚¹æœ‰ç‚¹æ£˜æ‰‹ï¼Œå› æ­¤æˆ‘ä»¬åŸºæœ¬ä¸Šåªæ˜¯è·³è¿‡ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åŽæŒ‡å‘é‚£ä¸ªèŠ‚ç‚¹ä¹‹åŽçš„èŠ‚ç‚¹ã€‚ æ€»ç»“è¿™äº›æ˜¯å•é“¾è¡¨é€šå¸¸å…·æœ‰çš„åŸºæœ¬å±žæ€§å’Œå‡½æ•°ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨è¿™äº›åŸºç¡€ä¸Šæ·»åŠ å…¶ä»–å±žæ€§å’Œå‡½æ•°ã€‚ æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼šSwift ä¸­çš„é“¾è¡¨ - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯´è¯´ Swift ä¸­çš„é›†åˆåè®®--Pt.2]]></title>
    <url>%2F%E8%AF%B4%E8%AF%B4-Swift-%E4%B8%AD%E7%9A%84%E9%9B%86%E5%90%88%E5%8D%8F%E8%AE%AE-Pt-2%2F</url>
    <content type="text"><![CDATA[å¼•è¨€åœ¨ä¸Šç¯‡æ–‡ç«  è¯´è¯´ Swift ä¸­çš„é›†åˆåè®®â€“Pt.1 ä¸­ï¼Œæˆ‘ä»¬æŠŠé›†åˆæ ‘ä¸­çš„ IteratorProtocolã€Sequenceã€Collection è¿‡äº†ä¸€éï¼Œä»Šå¤©å°±æ¥æŽ¢ç´¢ä¸€ä¸‹å‰©ä½™çš„éƒ¨åˆ†ã€‚ BidirectionalCollectionBidirectionalCollection æ”¯æŒå‘åŽå’Œå‘å‰éåŽ†ã€‚å®ƒå¯ä»¥ä»Žä»»ä½•æœ‰æ•ˆç´¢å¼•(ä¸åŒ…æ‹¬é›†åˆçš„ startIndex)å‘åŽéåŽ†ã€‚å› æ­¤ï¼Œå®ƒå¯ä»¥æä¾›ä¸€äº›é¢å¤–çš„æ“ä½œï¼Œæ¯”å¦‚ï¼Œå¯ä»¥å¿«é€Ÿçš„è®¿é—®é›†åˆçš„æœ€åŽä¸€ä¸ªå…ƒç´ ã€‚æ­¤å¤–ï¼Œå®ƒå¯¹æŸäº›åºåˆ—å’Œé›†åˆæ–¹æ³•æœ‰æ›´é«˜æ•ˆçš„å®žçŽ°ï¼Œæ¯”å¦‚ï¼Œreverse()ã€‚åè®®å®šä¹‰ä¹Ÿå¾ˆç®€å•~ 123protocol BidirectionalCollection: Collection &#123; func index(before i: Index) -&gt; Index&#125; å› ä¸º BidirectionalCollection å¯ä»¥å‘åŽéåŽ†ï¼Œæ‰€ä»¥å¯ä»¥æ”¹è¿› reversed() æ–¹æ³•çš„å®žçŽ°ã€‚reversed() æœ€åˆæ˜¯åœ¨ Sequence é‡Œå®žçŽ°çš„ï¼Œè¿”å›žç±»åž‹ä¸º Array\ï¼ŒO(n) çš„æ—¶é—´å¤æ‚åº¦ã€‚ BidirectionalCollection å®žçŽ°äº† reverse()ï¼Œå®ƒä¸ä¼šåŽ»è¯»å– Sequence å…ƒç´ ï¼Œè€Œæ˜¯è¿”å›žä¸€ä¸ªåä¸º ReversedCollection çš„æ–°ç±»åž‹ï¼Œè¯¥ç±»åž‹åŒ…è£…äº†åŽŸå§‹çš„ Collectionã€‚ReversedCollection å°†è‡ªå·±çš„ç´¢å¼•è½¬æ¢ä¸ºåŸºæœ¬é›†åˆçš„ç´¢å¼•ï¼Œå¹¶æ ¹æ®éœ€è¦ä»ŽåŸºæœ¬é›†åˆä¸­è®¿é—®å…ƒç´ ã€‚åˆ›å»º ReversedCollection æ˜¯ O(1) çš„æ—¶é—´å¤æ‚åº¦ã€‚ ç”±äºŽ Sequence å®žçŽ°çš„è¿”å›žç±»åž‹ä¸Ž BidirectionalCollection çš„è¿”å›žç±»åž‹ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨ Xcode æœ‰ä¸¤ä¸ª reversed() çš„è‡ªåŠ¨æç¤ºã€‚ å¦‚æžœæ²¡æœ‰å£°æ˜Žå˜é‡çš„ç±»åž‹ï¼Œåˆ™é»˜è®¤å¾—åˆ°çš„æ˜¯ ReversedCollection ç±»åž‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡æ˜¾å¼å£°æ˜Žå˜é‡çš„ç±»åž‹ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨æˆ‘ä»¬æƒ³è¦å“ªä¸ªreversed()æ–¹æ³•ã€‚ çŽ°åœ¨æˆ‘ä»¬å¯ä»¥ä»Žä¸¤ç«¯è®¿é—®å…ƒç´ ï¼Œä½†è¿˜ä¸èƒ½æ”¹å˜æŒ‡å®šç´¢å¼•å¤„çš„å€¼ï¼Œè¯¥åŠŸèƒ½ç”± MutableCollection æä¾›ã€‚ MutableCollectionå¦‚æžœæˆ‘ä»¬å°è¯•ä½¿ç”¨ä¸‹æ ‡ä¿®æ”¹é›†åˆä¸­çš„ä»»ä½•å€¼ï¼Œå°†ä¼šå‡ºçŽ°ç¼–è¯‘é”™è¯¯ã€‚é›†åˆåªä¸ºæˆ‘ä»¬æä¾›å¯¹å…¶å…ƒç´ çš„ä¸‹æ ‡è¯»è®¿é—®ã€‚ä¸ºäº†èƒ½å†™è®¿é—®ï¼Œæˆ‘ä»¬éœ€è¦éµå¾ª MutableCollectionã€‚åè®®å®šä¹‰å¾ˆç®€å•~ 123protocol MutableCollection: Collection &#123; subscript(position: Index) -&gt; Element &#123; get set &#125;&#125; MutableCollection çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªç®€å•çš„é™„åŠ åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒæä¾›äº†ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚äº¤æ¢ä¸¤ä¸ªç´¢å¼•å¤„çš„å…ƒç´ ï¼šswapAt(_: :) å’Œç›´æŽ¥ä¿®é›†åˆæœ¬èº«çš„ reverse()ã€‚ åœ¨å®žçŽ° MutableCollection æ—¶éœ€è¦æ³¨æ„ï¼Œä¸‹æ ‡èµ‹å€¼ä¸åº”è¯¥æ”¹å˜é›†åˆæœ¬èº«çš„é•¿åº¦ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ String ä¸ç¬¦åˆ MutableCollection çš„åŽŸå› ã€‚ä½¿ç”¨ä¸‹æ ‡æ›¿æ¢å­—ç¬¦å¯ä»¥æ”¹å˜å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå› ä¸ºå­—ç¬¦æœ¬èº«æ²¡æœ‰å›ºå®šçš„é•¿åº¦ã€‚ æ­£å¼å› ä¸ºæœ‰é•¿åº¦é™åˆ¶ï¼Œæ‰€ä»¥ MutableCollection ä¸æä¾›è¯¸å¦‚ remove(_:)ã€ append(_:)ã€ insert(_: at:) ç­‰æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•é€šå¸¸ä¸Žå•è¯ mutable ç›¸å…³è”ã€‚ Collection å¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨ä¸‹æ ‡è®¿é—®ä»»ä½•å…ƒç´ ï¼Œä½†è®¿é—®çš„æ—¶é—´ä¸æ˜¯å›ºå®šçš„ã€‚è¿™é‡Œå°±å¼•å‡ºäº† RandomAccessCollection åè®®ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬ä»¥å›ºå®šçš„æ—¶é—´è®¿é—®é›†åˆä¸­çš„ä»»ä½•å…ƒç´ ã€‚ RandomAccessCollectionå®ƒæ˜¯ä¸€ä¸ªæ”¯æŒå¿«é€Ÿéšæœºè®¿é—®å…ƒç´ çš„é›†åˆã€‚RandomAccessCollections å¯ä»¥ä»¥ O(1) çš„æ—¶é—´å¤æ‚åº¦æŠŠä¸‹æ ‡ç§»åŠ¨åˆ°ä»»ä½•è·ç¦»åŠè®¡ç®—ä¸¤ä¸ªç´¢å¼•ä¹‹é—´çš„è·ç¦»ã€‚å› æ­¤ï¼ŒRandomAccessCollection å’Œ BidirectionalCollection ä¹‹é—´çš„æ ¹æœ¬åŒºåˆ«åœ¨äºŽï¼Œç´¢å¼•ç§»åŠ¨æˆ–ç´¢å¼•é—´çš„è®¡ç®—ç­‰æ“ä½œï¼ŒRandomAccessCollection æ•ˆçŽ‡æ›´é«˜ã€‚åè®®å®šä¹‰éžå¸¸ç®€å•~ 12public protocol RandomAccessCollection: BidirectionalCollectionwhere SubSequence: RandomAccessCollection, Indices: RandomAccessCollection &#123; &#125; é™¤äº†è¦æ±‚ BidirectionalCollection çš„å­åºåˆ—å’Œç´¢å¼•ç±»åž‹æœ¬èº«æ˜¯ RandomAccessCollection å¤–ï¼Œå®ƒæ²¡æœ‰å¢žåŠ é¢å¤–çš„å®žçŽ°ã€‚ éµå¾ª RandomAccessCollectionï¼Œè™½ç„¶ä¸èƒ½è§£é”ä¸€äº›é¢å¤–æŠ€èƒ½ï¼Œä½†å®ƒç¡®å®žæé«˜äº†æŸäº›çŽ°æœ‰ç®—æ³•çš„æ€§èƒ½ï¼Œæ¯”å¦‚ dropFirst(_:)ã€ dropLast(_:)ã€prefix(_:), suffix(_:)ï¼Œè¿™äº›éƒ½æ˜¯O(1)æ—¶é—´å¤æ‚åº¦ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œè®¿é—® count å±žæ€§çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1) ï¼Œè€Œä¸éœ€è¦å¯¹æ•´ä¸ªé›†åˆè¿›è¡Œè¿­ä»£ã€‚å¦‚æžœæˆ‘ä»¬çš„ RandomAccessCollection ä¹Ÿç¬¦åˆ MutableCollectionï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥è°ƒç”¨ sort() å’Œ shuffle() æ–¹æ³•ç›´æŽ¥ä¿®æ”¹é›†åˆæœ¬èº«ã€‚ å°½ç®¡éµå¾ª MutableCollectionsçš„é›†åˆæ˜¯å¯å˜é›†åˆï¼Œä½†ä»ç„¶ä¸èƒ½è°ƒç”¨åƒ insert(_: at:) è¿™æ ·çš„æ”¹å˜é•¿åº¦çš„å‡½æ•°ã€‚æƒ³æ”¹å˜é•¿åº¦ï¼Œå°±å¾—éµå¾ª RangeReplaceableCollection åè®®ã€‚ RangeReplaceableCollectionRangeReplaceableCollection æ”¯æŒç”¨å¦ä¸€ä¸ªé›†åˆçš„å…ƒç´ æ›¿æ¢ä»»æ„èŒƒå›´çš„å…ƒç´ ã€‚å¬èµ·æ¥æœ‰ç‚¹åƒ MutableCollectionï¼Œä½†æ˜¯è¿™é‡Œçš„å…³é”®åŒºåˆ«æ˜¯æ–°é›†åˆä¸éœ€è¦ä¸Žè¢«æ›¿æ¢çš„é›†åˆå…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚åè®®å®šä¹‰å¾ˆç®€å•~ 12345protocol RangeReplaceableCollection: Collection &#123; init() mutating func replaceSubrange&lt;C&gt;(_ subrange: Range&lt;Index&gt;, with newElements: C) where C: Collection, C.Element == Element&#125; è¿™ä¸ªæ–¹æ³•è§£é”äº†ä¸€ç³»åˆ—æ–°åŠŸèƒ½ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•ç´¢å¼•å¤„æ’å…¥ä¸€ä¸ªæ–°çš„é›†åˆï¼Œé€šè¿‡ index..&lt;index ä½œä¸ºå­åŒºåŸŸã€‚æˆ‘ä»¬å¯ä»¥åœ¨æœ€åŽæ·»åŠ ä¸€ä¸ªé›†åˆï¼Œå®Œæˆåœ¨ endIndex æ’å…¥é›†åˆå¹¶ä»Žé›†åˆä¸­åˆ é™¤æ‰€æœ‰å…ƒç´ ã€‚ ç”±äºŽ rangereplaceablection å¯ä»¥ä¿®æ”¹é›†åˆçš„é•¿åº¦ï¼Œå› æ­¤ String å¯ä»¥å®‰å…¨åœ°éµå¾ªå®ƒã€‚ Dictionaries and Sets Set éµå¾ªäº† Collection åè®®ï¼Œè¿™ä½¿å¾—å®ƒä»¬å¯ä»¥è®¿é—®ç±»ä¼¼ firstIndex(of:) ç­‰æ–¹æ³•ã€‚å¯¹äºŽåƒ Set è¿™æ ·çš„æ— åºé›†åˆï¼Œæ­¤æ–¹æ³•è™½ç„¶æ²¡å•¥æ„ä¹‰ï¼Œä½†æ˜¯æˆ‘çŒœæƒ³ï¼Œä¸Žä¸€äº› API ä¸ä¸€è‡´æ€§ç›¸æ¯”ï¼Œéµå¾ª Collection çš„å¥½å¤„æ›´å¤§ã€‚ Dictionary ä¹Ÿéµå¾ªäº† Collection åè®®ã€‚åŸºäºŽä½¿ç”¨é”®ä½œä¸ºä¸‹æ ‡è®¿é—®å€¼çš„æ–¹å¼ã€‚Dictionary å®žé™…ä¸Šä½¿ç”¨å†…éƒ¨ç±»åž‹ä½œä¸ºå®ƒä»¬çš„ Indexï¼Œè€Œå®ƒä»¬çš„ Element ç±»åž‹æ˜¯ tuple(Keyï¼ŒValue)ã€‚Dictionary å®žé™…ä¸Šæœ‰ä¸¤ä¸ªä¸‹æ ‡ï¼Œä¸€ä¸ªåŸºäºŽå†…éƒ¨ç´¢å¼•æ¥æ»¡è¶³ Collection åè®®çš„è¦æ±‚ï¼Œå¦ä¸€ä¸ªä½¿ç”¨æˆ‘ä»¬ç†Ÿæ‚‰çš„ Keyã€‚ ç»“è¯­ä»¥ä¸Šå°±æ˜¯é›†åˆåè®®çš„å…¨éƒ¨å†…å®¹äº†ï¼Œé€šè¿‡è¿™ä¸¤ç¯‡æ–‡ç« çš„ä»‹ç»ï¼Œç›¸ä¿¡å¤§å®¶ä¹Ÿå¯¹é›†åˆåè®®æœ‰äº†ä¸€ä¸ªæ•´ä½“ä¸Šçš„è®¤è¯†ï¼Œè‡³å°‘çŸ¥é“äº†é›†åˆå¯ä»¥éåŽ†æ˜¯éµå¾ªäº†ä»€ä¹ˆåè®®ï¼Œé›†åˆå¯ä»¥è®¿é—®å…ƒç´ æ˜¯éµå¾ªäº†ä»€ä¹ˆåè®®ï¼Œå¯ä»¥æ’å…¥ã€åˆ é™¤å…ƒç´ æ˜¯éµå¾ªäº†ä»€ä¹ˆåè®®ç­‰ç­‰ã€‚ æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼šè¯´è¯´ Swift ä¸­çš„é›†åˆåè®®â€“Pt.2 - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯´è¯´ Swift ä¸­çš„é›†åˆåè®®--Pt.1]]></title>
    <url>%2F%E8%AF%B4%E8%AF%B4-Swift-%E4%B8%AD%E7%9A%84%E9%9B%86%E5%90%88%E5%8D%8F%E8%AE%AE-Pt-1%2F</url>
    <content type="text"><![CDATA[å¼•è¨€åœ¨ Swift ä¸­ï¼Œæœ‰ä¸€å—å†…å®¹ï¼Œæˆ‘ä¸€ç›´éƒ½ä¸å¤ªæ„¿æ„åŽ»å­¦ï¼Œé‚£å°±æ˜¯å…¨ç³»åˆ—çš„é›†åˆç±»åž‹ã€‚é‚£çŽ°åœ¨ä¸ºå•¥åŽ»çœ‹äº†å‘¢ï¼Œå› ä¸ºå· ä¸»è¦åŽŸå› æ˜¯æ ‡å‡†åº“ä¸­æä¾›çš„å…·ä½“å®žçŽ°â€“æ•°ç»„ã€é›†åˆå’Œå­—å…¸â€“èƒ½è¦†ç›–æ—¥å¸¸å¼€å‘ 99% çš„æƒ…å†µã€‚è¿˜æœ‰ä¸€ä¸ªæ›´é‡è¦çš„åŽŸå› â€”-åè®®å¤ªå¤šäº†ï¼ æ›´ä¸ç”¨è¯´ Swift 5.5 äº†ã€‚ä»‹ç»äº†ä¸€ä¸ªå…¨æ–°çš„åŸºäºŽ AsyncSequence çš„åè®®å®¶æ—ï¼Œä¸è¿‡è¿™ç¯‡æ–‡ç« ä¸­ä¸ä¼šæ¶‰åŠã€‚ é‚£å°±è®©æˆ‘ä»¬è¯•ç€å¼„æ¸…æ¥šæ¯ä¸ªåè®®çš„ä½œç”¨ï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è¿™ä¹ˆå¤šåè®®ã€‚ä¸‹é¢çš„å›¾å°±å±•ç¤ºäº†å…¨ç³»åˆ—çš„é›†åˆåè®®ï¼Œæˆ‘å°†ä»Žä¸Šåˆ°ä¸‹ä¾æ¬¡ä»‹ç»ï¼š IteratorProtocolä¸€æ¬¡æä¾›ä¸€ä¸ªåºåˆ—å€¼çš„ç±»åž‹ã€‚è¯¥åè®®ä¸Ž Sequence åè®®ç´§å¯†ç›¸è¿žï¼ŒåŽé¢å°±ä¼šçœ‹åˆ°ã€‚åºåˆ—é€šè¿‡åˆ›å»ºè¿­ä»£å™¨æ¥æä¾›å¯¹å…¶å…ƒç´ çš„è®¿é—®ï¼Œè¿­ä»£å™¨è·Ÿè¸ªå…¶è¿­ä»£è¿‡ç¨‹ï¼Œå¹¶éšç€åºåˆ—çš„å‰è¿›æ¯æ¬¡è¿”å›žä¸€ä¸ªå…ƒç´ ã€‚åè®®çš„å®šä¹‰å¦‚ä¸‹: 1234public protocol IteratorProtocol &#123; associatedtype Element mutating func next() -&gt; Element?&#125; ä¸€ä¸ªåä¸º next() çš„æ–¹æ³•ï¼Œè¿”å›žä¸‹ä¸€ä¸ªå…ƒç´ æˆ– nilã€‚å®ƒè¢«æ ‡è®°ä¸º mutatingï¼Œè¿™æ ·å°±å¯ä»¥æ›´æ–°ä»–ä»¬çš„å†…éƒ¨çŠ¶æ€ï¼Œä¸ºä¸‹ä¸€æ¬¡è°ƒç”¨ next() åšå‡†å¤‡ã€‚å¦‚æžœå®žçŽ°æ²¡æœ‰è¿”å›ž nilï¼Œè¿­ä»£å™¨å¯ä»¥æ— é™åœ°ç”Ÿæˆå€¼ã€‚æˆ‘ä»¬å¾ˆå°‘ç›´æŽ¥åˆ›å»ºè¿­ä»£å™¨ï¼Œå› ä¸º Swift ä¸­çš„åºæœ‰ä¸€ç§æ›´ä¸ºå¸¸ç”¨çš„æ–¹æ³•ã€‚ä¸è¿‡ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå…·ä½“çš„è¿­ä»£å™¨æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ 12345678910111213141516171819struct DoublingIterator: IteratorProtocol &#123; var value: Int var limit: Int? = nil mutating func next() -&gt; Int? &#123; if let l = limit, value &gt; l &#123; return nil &#125; else &#123; let current = value value *= 2 return current &#125; &#125;&#125;var doublingIterator = DoublingIterator(value: 1, limit: 1024)while let value = doublingIterator.next() &#123; print(value)&#125; è°ƒç”¨ä¸€ä¸ªç®€å•çš„è¿­ä»£å™¨ï¼Œæ¯æ¬¡è°ƒç”¨ next()ï¼Œå€¼å¢žåŠ ä¸€å€ã€‚å¦‚æžœæˆ‘ä»¬åˆå§‹åŒ– DoublingIterator æ—¶ï¼Œlimit ä¼  nilï¼Œè¿­ä»£å™¨å°†æ°¸è¿œè¿è¡Œï¼Œç›´åˆ°å€¼è¶…å‡ºæœ€å¤§å€¼ã€‚ Sequenceå¯ä»¥ç”¨å¯¹å…¶å…ƒç´ è¿›è¡Œé¡ºåºè¿­ä»£è®¿é—®çš„ç±»åž‹ã€‚åºåˆ—å°±æ˜¯ä¸€ç³»åˆ—çš„å€¼ï¼Œæ¯æ¬¡æˆ‘ä»¬éƒ½å¯ä»¥è®¿é—®ä¸€ä¸ªã€‚è™½ç„¶çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯è¿™ç§èƒ½åŠ›ä½¿æˆ‘ä»¬èƒ½å¤Ÿè¿›è¡Œå¤§é‡çš„æ“ä½œï¼Œè€Œä¸”å¯ä»¥å¯¹ä»»ä½•åºåˆ—æ‰§è¡Œè¿™äº›æ“ä½œã€‚Sequence åè®®ä¸ºè¿™äº›å¸¸è§æ“ä½œæä¾›äº†ç¼ºçœå®žçŽ°ã€‚åœ¨ç ”ç©¶è¿™äº›æ“ä½œä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹åè®®å®šä¹‰~ 12345public protocol Sequence &#123; associatedtype Element associatedtype Iterator: IteratorProtocol where Iterator.Element == Element func makeIterator() -&gt; some IteratorProtocol&#125; åºåˆ—é€šè¿‡å®ƒçš„ makeIterator() æ–¹æ³•å’Œå…³è”çš„ç±»åž‹æ¥ç¡®ä¿è¿­ä»£å™¨çš„ Element ç±»åž‹å’Œåºåˆ—åŒ¹é…ã€‚è®©æˆ‘ä»¬ä½¿ç”¨ DoublingIterator åˆ›å»ºä¸€ä¸ªå…·ä½“çš„ DoublingSequence: 12345678910111213141516struct DoublingSequence: Sequence &#123; var value: Int var limit: Int? = nil func makeIterator() -&gt; DoublingIterator &#123; DoublingIterator(value: value, limit: limit) &#125;&#125;let doubler = DoublingSequence(value: 1, limit: 1024)for value in doubler &#123; print(value)&#125;print(doubler.contains &#123; $0 == 512 &#125;) // trueprint(doubler.reduce(0, +)) // 2047 ä»…ä»…é€šè¿‡éµå¾ª Sequenceï¼Œæˆ‘ä»¬çš„å…·ä½“ç±»åž‹å°±èŽ·å¾—äº† for-in å’Œä¸€äº›å…¶ä»–æ“ä½œçš„èƒ½åŠ›ï¼Œå¦‚ mapã€ filterã€ reduce ç­‰ã€‚Sequence è¿˜æä¾›äº† dropFirst(_:)ã€ dropLast(_:) ç­‰æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œåœ¨åºåˆ—çº§åˆ«ï¼Œè¿™äº›æ–¹æ³•çš„å®žçŽ°å—åˆ°ä¸€æ¬¡è¿­ä»£ä¸€ä¸ªå…ƒç´ çš„çº¦æŸã€‚è¿™åæ˜ äº†å®ƒä»¬çš„æ—¶é—´å¤æ‚åº¦â€”â€” dropFirst(_:)æ˜¯ O(k)ï¼Œå…¶ä¸­ k æ˜¯è¦åˆ é™¤çš„å…ƒç´ æ•°ï¼ŒdropLast(_:) æ˜¯ O(n)ï¼Œå…¶ä¸­ n æ˜¯æŒ‰é¡ºåºæŽ’åˆ—çš„å…ƒç´ æ€»æ•°ã€‚dropLast(_:) ä¸Ž dropFirst(_:)ä¸åŒï¼Œå®ƒè¦æ±‚åºåˆ—æ˜¯æœ‰é™çš„ã€‚ åœ¨ä½¿ç”¨ Sequences æ—¶éœ€è¦æ³¨æ„ä¸€äº›äº‹æƒ… åºåˆ—ä¸èƒ½ä¿è¯å¤šæ¬¡è¿­ä»£äº§ç”Ÿæƒ³è¦çš„ç»“æžœã€‚ç”±å®žçŽ°ç±»åž‹å†³å®šå¦‚ä½•å¤„ç†å¯¹å·²ç»éåŽ†è¿‡ä¸€æ¬¡çš„åºåˆ—çš„è¿­ä»£ åºåˆ—æä¾›çš„è¿­ä»£å™¨åº”ä¿è¯æ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚å®ƒå¯¹å…ƒç´ è®¿é—®æ²¡æœ‰å…¶ä»–è¦æ±‚ã€‚å› æ­¤ï¼Œé™¤éžå¦æœ‰æ–‡æ¡£è¯´æ˜Žï¼Œå¦åˆ™åº”è¯¥å°†éåŽ†åºåˆ—çš„æ–¹æ³•è§†ä¸º O(n) ç»™å®šä¸€ä¸ªå…ƒç´ ï¼ŒSequence å…è®¸æˆ‘ä»¬ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ä¸ºäº†èƒ½å¤Ÿç§»åŠ¨åˆ°ä»»ä½•å…ƒç´ (è™½ç„¶ä¸èƒ½ä¿è¯ç§»åŠ¨çš„ä¸–ç•Œæ˜¯å¸¸é‡æ—¶é—´)ï¼Œæˆ‘ä»¬éœ€è¦ Collectionã€‚ Collectionä¸€ä¸ªåºåˆ—ï¼Œå…¶å…ƒç´ å¯ä»¥é€šè¿‡ä¸‹æ ‡è¢«å¤šæ¬¡è®¿é—®ã€‚å½“æˆ‘ä»¬ä½¿ç”¨æ•°ç»„ã€å­—å…¸æˆ–é›†åˆæ—¶ï¼Œå—ç›ŠäºŽ Collection åè®®å£°æ˜Žå’Œå®žçŽ°çš„æ“ä½œã€‚é™¤äº†ä»Ž Sequence åè®®ç»§æ‰¿çš„æ“ä½œä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®¿é—®é›†åˆä¸­ç‰¹å®šä½ç½®çš„å…ƒç´ çš„æ–¹æ³•ã€‚Collection çš„åè®®å®šä¹‰å¦‚ä¸‹ï¼š 12345678protocol Collection: Sequence &#123; associatedtype Index: Comparable var startIndex: Index &#123; get &#125; var endIndex: Index &#123; get &#125; subscript(position: Index) -&gt; Element &#123; get &#125; func index(after i: Index) -&gt; Index&#125; ç”±äºŽå¤šæ¬¡éåŽ†å’Œé€šè¿‡ç´¢å¼•ä¸‹æ ‡è®¿é—®çš„éœ€è¦ï¼Œä¸€ä¸ªé›†åˆä¸èƒ½å»¶è¿Ÿåœ°è®¡ç®—å®ƒçš„å€¼ï¼Œä¹Ÿä¸èƒ½æ˜¯æ— é™çš„ã€‚è¿™ä¸Ž Sequences ä¸åŒï¼ŒSequences å¯ä»¥é€šè¿‡å½“å‰å¯¹ next() çš„è°ƒç”¨æ›´æ–°å†…éƒ¨çŠ¶æ€ï¼Œä¸ºä¸‹ä¸€æ¬¡è°ƒç”¨åšå‡†å¤‡ã€‚è¿˜è¦æ³¨æ„ï¼Œassociatedtype Index ä¸æ˜¯ Int ç±»åž‹ï¼Œè€Œæ˜¯ç¬¦åˆ Comparable çš„ä»»ä½•ç±»åž‹ã€‚ ç»“è¯­åœ¨ä¸‹ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ç»§ç»­æŽ¢ç´¢å‰©ä½™çš„éƒ¨åˆ†~ è¯´è¯´ Swift ä¸­çš„é›†åˆåè®®â€“Pt.1 - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Xcode çš„æ‹¼å†™æ£€æŸ¥ï¼Œä½ å¼€å¯äº†å—ï¼Ÿ]]></title>
    <url>%2FXcode-%E7%9A%84%E6%8B%BC%E5%86%99%E6%A3%80%E6%9F%A5%EF%BC%8C%E4%BD%A0%E5%BC%80%E5%90%AF%E4%BA%86%E5%90%97%EF%BC%9F%2F</url>
    <content type="text"><![CDATA[å¼•è¨€ä½œä¸ºä¸€åå¼€å‘äººå‘˜ï¼Œå½“æˆ‘ä»¬ç¼–å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬ä¼šæ›´å¤šåœ°å…³æ³¨é€»è¾‘å’Œç®—æ³•ï¼Œè€Œä¸æ˜¯æ‹¼å†™å’Œè¯­æ³•ã€‚ä½†å®ƒä¹Ÿæ˜¯æˆ‘ä»¬ç¼–ç çš„ä¸€ä¸ªé‡è¦éƒ¨åˆ†ï¼Œç‰¹åˆ«æ˜¯å½“æˆ‘ä»¬ä»Žæ³¨é‡Šç”Ÿæˆæ–‡æ¡£çš„æ—¶å€™ã€‚ æ‹¼å†™æ£€æŸ¥å¸®åŠ©æˆ‘ä»¬æ‰¾å‡ºæ‹¼å†™é”™è¯¯ï¼Œè®©æˆ‘ä»¬æœ‰æ›´å¤šçš„æ—¶é—´å…³æ³¨ä»£ç é€»è¾‘ã€‚ æ‹¼å†™æ£€æŸ¥èƒ½è¯†åˆ«ä»€ä¹ˆç­”æ¡ˆå°±æ˜¯ä»£ç ä¸­ä¸ŽSpelling and Grammerç›¸å…³çš„æ‰€æœ‰å†…å®¹ å˜é‡å æ–¹æ³• ç±» æ³¨é‡Š å­—ç¬¦ä¸²çš„å­—é¢é‡(åŒ…æ‹¬æœ¬åœ°åŒ–) å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒåŒ…æ‹¬ç±»ã€æ–¹æ³•ã€å˜é‡å’Œæ³¨é‡Šï¼Œä½†æ²¡æœ‰å¯ç”¨Spelling and Grammerã€‚çŒ›ä¸€çœ‹åŽ»ï¼Œå¥½åƒæ²¡å•¥é—®é¢˜ï¼Œä½†å¦‚æžœæˆ‘ä»¬ä»”ç»†æ£€æŸ¥ï¼Œå°±ä¼šå‘çŽ°å¾ˆå¤šæ‹¼å†™é”™è¯¯ã€‚ çŽ°åœ¨è®©æˆ‘ä»¬å¯ç”¨Spelling and Grammerï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆ- åœ¨ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬å¯ç”¨æ‹¼å†™æ£€æŸ¥æ—¶ï¼Œå®ƒèƒ½æ£€æµ‹åˆ°æ‰€æœ‰çš„æ‹¼å†™é”™è¯¯ï¼Œå¹¶ç”¨çº¢è‰²é«˜äº®æ˜¾ç¤ºã€‚çŽ°åœ¨æˆ‘ä»¬å°±çœåŽ»äº†æ‰¾é”™è¯¯çš„æ—¶é—´ï¼Œå¯ä»¥ç›´æŽ¥åŽ»ä¿®æ”¹äº†ã€‚ å¦‚ä½•å¼€å¯ Edit &gt; Format &gt; Spelling and Grammar å¯ä»¥çœ‹åˆ°æœ‰ä¸‰ä¸ªå¯ç”¨çš„é€‰é¡¹ï¼Œæˆ‘ä»¬ä¾æ¬¡æ¥çœ‹ä¸‹ï¼š Check Spelling While Typingå¯ç”¨åŽï¼Œä¼šæŠŠé¡¹ç›®ä¸­çš„æ‰€æœ‰è¾“å…¥é”™è¯¯ä¸€æ¬¡æ€§ã€å…¨éƒ¨ä»¥çº¢è‰²é«˜äº®æ˜¾ç¤ºï¼Œå°±åƒä¸Šé¢çš„ä¾‹å­ä¸€æ ·ã€‚ å¦å¤–ï¼Œå¼€å¯è¿™ä¸ªé€‰é¡¹åŽï¼Œè¿˜å¯ä»¥é€‰ä¸­è¦ä¿®æ”¹çš„å•è¯ï¼Œç„¶åŽå³é”®ï¼Œèœå•ä¸­ä¼šå‡ºçŽ° Xcode å»ºè®®çš„å•è¯ã€‚ Check Document Nowå®ƒå°†åœ¨å½“å‰æ–‡ä»¶ä¸­é€ä¸ªæ˜¾ç¤ºè¾“å…¥é”™è¯¯ã€‚ä¸ºäº†æ£€æŸ¥å½“å‰æ–‡ä»¶ä¸­çš„æ‰€æœ‰é”™è¯¯ï¼Œå¯ä»¥é‡å¤è¿™ä¸ªå‘½ä»¤Edit &gt; Format &gt; Spelling and Grammar &gt; Check Document Now æˆ–è€…ä½¿ç”¨å¿«æ·é”®command å’Œåˆ†å·ï¼ˆ;ï¼‰çš„ç»„åˆ Show Spelling and Grammarå®ƒä¼šæ‰“å¼€æ‰€æœ‰å»ºè®®çš„æ›´æ”¹ã€‚æˆ‘ä»¬å¯ä»¥å•å‡»å…¶ä¸­ä»»ä½•ä¸€ä¸ªè¿›è¡Œæ›¿æ¢ã€‚ä½¿ç”¨å‘½ä»¤Edit &gt; Format &gt; Spelling and Grammar &gt; Show Spelling and Grammar æˆ–è€…ä½¿ç”¨å¿«æ·é”®command å’Œå†’å·ï¼ˆ:ï¼‰çš„ç»„åˆ Learn Spelling å’Œ Ignore Spellingæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€äº›åœ¨ç³»ç»Ÿè¯å…¸ä¸­æ²¡æœ‰å®šä¹‰çš„ç‹¬ç‰¹è¯æ±‡ï¼Œæ¯”å¦‚åº”ç”¨ç¨‹åºå‰ç¼€ã€å¼€å‘è€…åç§°ã€å…¬å¸åç§°ç­‰ã€‚Xcode ä¹Ÿä¼šæ£€æŸ¥è¿™äº›å•è¯çš„é”™è¯¯ã€‚ æ‰€ä»¥å°±ç”¨Learn Spellingæˆ–è€…Ignore Spellingå¤„ç†è¿™äº›ç‰¹æ®Šçš„å•è¯ã€‚ é€šè¿‡èœå•å³é”®é€‰ä¸­è¦å¤„ç†çš„å•è¯ é€šè¿‡ command + ï¼š ç»“è¯­å¿«åŽ»æŽ¢ç´¢ä¸€ä¸‹ Edit &gt; Format &gt; Spelling and Grammar ä¸‹é¢çš„ä¸‰ä¸ªé€‰é¡¹å§~ æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼šXcode çš„æ‹¼å†™æ£€æŸ¥ï¼Œä½ å¼€å¯äº†å—ï¼Ÿ - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Xcode,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ å¯èƒ½ä¸çŸ¥é“çš„ Swift å¼€å‘å°æŠ€å·§â€”â€”Pt.2]]></title>
    <url>%2F%E4%BD%A0%E5%8F%AF%E8%83%BD%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84-Swift-%E5%BC%80%E5%8F%91%E5%B0%8F%E6%8A%80%E5%B7%A7%E2%80%94%E2%80%94Pt-2%2F</url>
    <content type="text"><![CDATA[å¾€æœŸæ–‡ç« ï¼š ä½ å¯èƒ½ä¸çŸ¥é“çš„ Swift å¼€å‘å°æŠ€å·§â€”â€”Pt.1 å¯¹æ•°ç»„è¿›è¡Œåˆ†ç»„å‡å¦‚æœ‰ä¸€ç»„æ–‡ç« ï¼Œè¦æŠŠè¿™äº›æ–‡ç« æŒ‰ç…§ category è¿›è¡Œåˆ†ç»„ï¼Œå¯ä»¥åˆ©ç”¨ Pt.1ä¸­æåˆ°çš„ï¼Œç»™å­—å…¸çš„æŸä¸ª key è®¾ç½®é»˜è®¤å€¼çš„æŠ€å·§ï¼Œå®žçŽ°å¦‚ä¸‹ï¼š 1234567891011121314151617struct Article &#123; let title: String let category: String&#125;let articles = [ Article(title: "æ ‡é¢˜1", category: "Swift"), Article(title: "æ ‡é¢˜2", category: "Swift"), Article(title: "æ ‡é¢˜3", category: "Objective-C"), Article(title: "æ ‡é¢˜4", category: "Objective-C"),]var groupByCategory = [String : [Article]]()for article in articles &#123; groupByCategory[article.category, default: []].append(article)&#125;print(groupByCategory) å®žé™…ä¸Šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Dictionary çš„å†…ç½®åˆå§‹åŒ–æ–¹æ³•æ¥ç®€åŒ–ä¸Šé¢çš„ for å¾ªçŽ¯ï¼š 12let groupByCategory = Dictionary(grouping: articles, by: &#123;$0.category&#125;)print(groupByCategory) æ£€æŸ¥æ‰€æœ‰é›†åˆé¡¹æ˜¯å¦æ»¡è¶³æ¡ä»¶å‡å¦‚æœ‰è¿™ä¹ˆéœ€æ±‚ï¼šç»™å®šä¸€ç»„è¡¨ç¤ºå¹´é¾„çš„æ•´åž‹æ•°ç»„ï¼Œæ±‚ä»–ä»¬çš„å¹³å‡å¹´é¾„ã€‚è®¡ç®—æ€»å’Œï¼Œé™¤ä»¥æ•°é‡ï¼Œso easy~ ç„¶è€Œå¹¶ä¸æ˜¯æ¯ä¸ªæ•´æ•°éƒ½èƒ½è¡¨ç¤ºå¹´é¾„ï¼Œå› ä¸ºä¼ å…¥çš„å€¼æœ‰å¯èƒ½å°äºŽç­‰äºŽ 0ã€‚å¯¹äºŽè¾“å…¥å‚æ•°ï¼šå¹´é¾„æ•°ç»„ï¼Œæ˜¯ä¸å¯æŽ§çš„ã€‚å› æ­¤é‡åˆ°ä¸ç¬¦åˆå®žé™…çš„å€¼ï¼Œéœ€è¦æŠ›å‡ºé”™è¯¯ã€‚é€šå¸¸ä¼šè¿™ä¹ˆå®žçŽ°ï¼š 1234567891011121314151617func findAverage(ages: [Int]) -&gt; CGFloat &#123; var isAgeValid = true for age in ages &#123; if age &lt;= 0 &#123; isAgeValid = false break &#125; &#125; guard isAgeValid else &#123; fatalError("æ‰€æœ‰çš„å¹´é¾„å¿…é¡»å¤§äºŽ 0") &#125; let sum = ages.reduce(0, +) let count = ages.count return CGFloat(sum) / CGFloat(count)&#125;findAverage(ages: [22, 25, 26, 28, 30]) æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Array çš„æ–¹æ³•ï¼šallSatisfy(_:)æ¥ç®€åŒ– for å¾ªçŽ¯ä»£ç ï¼š 123456789101112func findAverage(ages: [Int]) -&gt; Double &#123; let isAgeValid = ages.allSatisfy &#123; $0 &gt; 0 &#125; guard isAgeValid else &#123; fatalError("æ‰€æœ‰çš„å¹´é¾„å¿…é¡»å¤§äºŽ 0") &#125; let sum = ages.reduce(0, +) let count = ages.count return Double(sum) / Double(count)&#125;findAverage(ages: [22, 25, 26, 28, 30]) ä¿ç•™ Struct çš„é»˜è®¤åˆå§‹åŒ–å™¨å¤§å®¶éƒ½çŸ¥é“ï¼ŒSwift ä¸­çš„ Struct æ˜¯å€¼ç±»åž‹ï¼Œè‡ªå¸¦ä¸€ä¸ªæˆå‘˜åˆå§‹åŒ–å™¨ã€‚ ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰é‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œéœ€è¦è‡ªå®šä¹‰ Struct çš„åˆå§‹åŒ–å™¨ï¼Œåˆæƒ³ä¿ç•™é»˜è®¤çš„åˆå§‹åŒ–å™¨ï¼Œä½†æ˜¯è‡ªå®šä¹‰åŽï¼Œé»˜è®¤çš„åˆå§‹åŒ–å™¨å°±æ¶ˆå¤±äº†ã€‚ å…ˆçœ‹ä¸‹é»˜è®¤çš„åˆå§‹åŒ–å™¨ï¼š è‡ªå®šä¹‰åˆå§‹åŒ–å™¨åŽï¼Œé»˜è®¤åˆå§‹åŒ–å™¨å°±æ¶ˆå¤±äº†ï¼š æƒ³åŒæ—¶ä¿ç•™è‡ªå®šä¹‰çš„å’Œé»˜è®¤çš„ï¼Œå°±å¾—ç¥­å‡º extension å¤§æ³•äº†ï¼š è¿‡æ»¤æ•°ç»„ä¸­çš„ nilæåˆ°è¿‡æ»¤ï¼Œç¬¬ä¸€ååº”å¯èƒ½å°±æ˜¯ filter(_:)ï¼š 123let x = [1, nil, 2, 4]let y = x.filter &#123; $0 != nil &#125; è™½ç„¶ä¹Ÿå¯ä»¥ï¼Œä½†ä¸ä¸æ˜¯é‚£ä¹ˆå¥½ã€‚ä¸Šé¢çš„ x çš„ç±»åž‹ [Int?]ï¼Œy ä¹Ÿæ˜¯ã€‚æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿé—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬å·²ç»æ˜Žç¡®çŸ¥é“ y é‡Œé¢ä¸ä¼šåŒ…å« nil å€¼äº†ï¼Œä½†ç¼–è¯‘å™¨ä¸çŸ¥é“ï¼Œæ‰€ä»¥åœ¨éåŽ† y æ—¶ï¼Œä¾ç„¶éœ€è¦å¯¹å…¶ä¸­çš„å…ƒç´ è¿›è¡Œè§£åŒ…ï¼š 12345let x = [1, nil, 2, 4]let y = x.filter &#123; $0 != nil &#125;for item in y &#123; print("item is \(item!)")&#125; æ›´å¥½çš„åšæ³•æ˜¯ä½¿ç”¨ compactMap(_:)ï¼š 123let x = [1, nil, 2, 4]let y = x.compactMap &#123; $0 &#125; è¿™æ—¶å€™ x æ˜¯ [Int?] çš„ç±»åž‹ï¼Œy æ˜¯ [Int] çš„ç±»åž‹ã€‚ zipå‡å¦‚éœ€è¦åŒæ—¶éåŽ†ä¸¤ä¸ªæ•°ç»„ï¼Œä½ ä¼šæ€Žä¹ˆåšï¼Ÿåœ¨æˆ‘çŸ¥é“ zip ä¹‹å‰ï¼Œæˆ‘é€šå¸¸éƒ½æ˜¯è¿™ä¹ˆåšï¼š 12345678let array1 = ["title1", "title2", "title3", "title4"]let array2 = ["value1", "value2", "value3", "value4", "value5"]let count = min(array1.count, array2.count)for i in 0..&lt;count &#123; let title = array1[i] let value = array2[i]&#125; å†æ¥çœ‹çœ‹ zip çš„ç”¨æ³•ï¼Œzip å¯ä»¥ç»„åˆä¸¤ä¸ªåºåˆ—ï¼Œè€Œä¸”ä¼šè¿›è¡Œè¾¹ç•Œæ£€æŸ¥ï¼š 123456789for (title,value) in zip(array1, array2) &#123; print("\(title)---\(value)")&#125;//è¾“å‡ºç»“æžœtitle1---value1title2---value2title3---value3title4---value4 ç»“è¯­ ä½¿ç”¨ Dictionary çš„ init(grouping:by:) æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œåˆ†ç»„ ä½¿ç”¨ Array çš„ allSatisfy(_:) æ–¹æ³•æ£€æŸ¥æ‰€æœ‰é›†åˆé¡¹æ˜¯å¦æ»¡è¶³æ¡ä»¶ é€šè¿‡ extension æ·»åŠ è‡ªå®šä¹‰åˆå§‹åŒ–å™¨ä»Žè€Œä¿ç•™é»˜è®¤åˆå§‹åŒ–å™¨ ä½¿ç”¨ compactMap(_:) è¿‡æ»¤æ•°ç»„ä¸­çš„ nil ä½¿ç”¨ zip ç»„åˆä¸¤ä¸ªé›†åˆ å¾€æœŸæ–‡ç« ï¼š ä½ å¯èƒ½ä¸çŸ¥é“çš„ Swift å¼€å‘å°æŠ€å·§â€”â€”Pt.1 ä»¥ä¸Šå°±æ˜¯å¹³æ—¶åœ¨é¡¹ç›®ä¸­ä½¿ç”¨æ¯”è¾ƒå¤šçš„ Swift å°æŠ€å·§å•¦ï¼Œæˆ‘ä¹Ÿä¼šç»§ç»­æ€»ç»“æ›´å¤šçš„å°æŠ€å·§å’Œå¤§å®¶è¿›è¡Œåˆ†äº«~ å¦‚æžœå¤§å®¶é‡åˆ°ä»¥å‰æ²¡ç”¨åˆ°è¿‡çš„ï¼Œä¸å¦¨åŠ¨æ‰‹è¯•è¯•å§~ æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼šä½ å¯èƒ½ä¸çŸ¥é“çš„ Swift å¼€å‘å°æŠ€å·§â€”â€”Pt.2 - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ å¯èƒ½ä¸çŸ¥é“çš„ Swift å¼€å‘å°æŠ€å·§â€”â€”Pt.1]]></title>
    <url>%2F%E4%BD%A0%E5%8F%AF%E8%83%BD%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84-Swift-%E5%BC%80%E5%8F%91%E5%B0%8F%E6%8A%80%E5%B7%A7%E2%80%94%E2%80%94Pt-1%2F</url>
    <content type="text"><![CDATA[å¼•è¨€åœ¨æˆ‘ä¸€å¼€å§‹å†™ Swift ä»£ç æ—¶ï¼Œæ€»æ˜¯æ˜¾çš„ä¸ç®€æ´ï¼Œæ²¡æœ‰å……åˆ†å‘æŒ¥ Swift çš„ç‰¹æ€§ã€‚éšç€å†™çš„æ—¶é—´é•¿äº†ï¼Œä¹Ÿæ€»ç»“äº†ä¸€äº› Swift å¼€å‘çš„å°æŠ€å·§ï¼Œè®©ä»£ç çœ‹èµ·æ¥æ›´åŠ ç®€æ´å’Œé«˜å¤§ä¸Šã€‚ å†…å®¹ä¸€å…±åˆ†ä¸ºä¸¤ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ç¬¬ä¸€ç¯‡~ ä½¿ç”¨å†…ç½®å‡½æ•°çŽ°åœ¨æœ‰ä¸ªæ•´åž‹æ•°ç»„ï¼Œæˆ‘ä»¬æƒ³è®¡ç®—æ•°ç»„å†…æ‰€æœ‰æ•°å­—ä¹‹å’Œã€‚ç¬¬ä¸€ååº”å¯èƒ½å°±æ˜¯ for å¾ªçŽ¯ï¼ŒäºŽæ˜¯å°±å†™å‡ºäº†ä¸‹é¢çš„ä»£ç ï¼š 123456let numbers = [2021, 11, 12]var sum = 0for number in numbers &#123; sum += number&#125;print(sum) //2044 å½“ç„¶ï¼Œè¿™ä¹ˆå†™ä¹Ÿæ²¡å•¥æ¯›ç—…ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ reduce(_:_:)æŠŠ for å¾ªçŽ¯ç®€åŒ–æˆä¸€è¡Œï¼š 123let numbers = [2021, 11, 12]let sum = numbers.reduce(0, +)print(sum) //2044 ä¸Šé¢è¿™æ®µä»£ç å°±ç­‰ä»·äºŽ 0 + 2021 + 11 + 12reduce çš„ç¬¬ä¸€ä¸ªå‚æ•° 0 æ˜¯åˆå§‹å€¼ï¼Œç›¸å½“äºŽä¸Šé¢ for å¾ªçŽ¯ä»£ç ä¸­çš„ var sum = 0ç¬¬äºŒä¸ªå‚æ•°æŽ¥å—ä¸€ä¸ªé—­åŒ…ï¼Œè¿™å°±ç»™äº†æˆ‘ä»¬åœ¨é—­åŒ…é‡Œä¸ºæ‰€æ¬²ä¸ºçš„æœºä¼šäº†ã€‚ é™¤äº†reduce(_:_:)ï¼ŒSwift è¿˜æä¾›äº†å…¶ä»–çš„å†…ç½®å‡½æ•°ï¼Œæ¯”å¦‚filter(_:)ã€map(_:)ã€flatMap(_:)ã€firstIndex(where:)ç­‰ç­‰ã€‚æ›´å¤šçš„å¤§å®¶å¯ä»¥ command+shift+0 æ‰“å¼€å¼€å‘æ–‡æ¡£æŸ¥çœ‹ã€‚ çœç•¥ return å…³é”®å­—å¦‚æžœä¸€ä¸ªå‡½æ•°æˆ–é—­åŒ…åªæœ‰ä¸€è¡Œä»£ç ï¼Œé‚£å°±å¯ä»¥æŠŠ return å…³é”®å­—çœç•¥æŽ‰ã€‚è€Œä¸”ï¼Œå¦‚æžœä½ å–œæ¬¢çš„è¯ï¼Œå¯ä»¥æŠŠæ‰€æœ‰ä»£ç æ”¾åœ¨ä¸€è¡Œï¼š 12345func makeGreeting(withName name: String) -&gt; String &#123; "æ±‚ç‚¹èµž, \(name)"&#125;func makeGreeting(withName name: String) -&gt; String &#123; "æ±‚ç‚¹èµž, \(name)" &#125; ç®€åŒ–é—­åŒ…12345struct Person &#123; var name: String var age: Int ...&#125; å‡å¦‚æœ‰ä¸ª Persons æ•°ç»„ï¼Œé‡Œé¢æ˜¯ Person å¯¹è±¡ï¼ŒçŽ°åœ¨è¦ç­›é€‰å‡ºå¤§äºŽ 18 å²çš„ Personï¼Œç”¨å‰é¢æåˆ°çš„filter(_:)ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š 12345678910let person1 = Person(name: "JieJie", age: 20)let person2 = Person(name: "Faker", age: 25)let person3 = Person(name: "JakeyLove", age: 30)let person4 = Person(name: "JinX", age: 10)let persons = [person1, person2, person3, person4]let result = persons.filter &#123; person in person.age &gt; 18&#125;print(result.map&#123; $0.name &#125;) //["JieJie", "Faker", "JakeyLove"] Swift è‡ªåŠ¨ä¸ºå†…è”å‡½æ•°æä¾›äº†å‚æ•°åç§°ç¼©å†™åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸Šé¢çš„ filter è¯­å¥å¯ä»¥ç®€åŒ–æˆï¼š 1let result = persons.filter&#123; $0.age &gt; 18 &#125; æ£€æŸ¥æ•°ç»„æ˜¯å¦è¶Šç•Œè¿˜æ˜¯ä¸Šé¢çš„ persons æ•°ç»„ï¼Œæ•°é‡ä¸å›ºå®šï¼Œå‡å¦‚æˆ‘ä»¬è¦å¯¹ä¸Šé¢çš„ persons æ•°ç»„æŠ½å¥–ï¼Œç¬¬ 6 ä¸ªäººä¸­å¥–ï¼Œå¦‚æžœäººæ•°æ²¡æœ‰è¾¾åˆ° 6ï¼Œé‚£å°±å»¶é•¿æŠ½å¥–æ—¥æœŸï¼Œé€šå¸¸å¯èƒ½ä¼šè¿™ä¹ˆåšï¼š 123456let index = 6if index &gt;= 0 &amp;&amp; index &lt; persons.count &#123; print("æ­å–œ \(persons[index].name) ä¸­å¥–")&#125; else &#123; print("å»¶é•¿æŠ½å¥–æ—¥æœŸ")&#125; ä¸Šé¢è¿™ä¸ªå†™æ³•å°±æ˜¾çš„å¾ˆæ™®é€šäº†ï¼Œæˆ‘ä»¬ç”¨æ•°ç»„çš„indiceså±žæ€§æŠŠå®ƒå˜å¾—é«˜å¤§ä¸Šï¼š 12345if persons.indices.contains(index) &#123; print("æ­å–œ \(persons[index].name) ä¸­å¥–")&#125; else &#123; print("å»¶é•¿æŠ½å¥–æ—¥æœŸ")&#125; é»˜è®¤å€¼å¤§å®¶éƒ½çŸ¥é“å¯ä»¥ç”¨??ä¸ºå¯é€‰å˜é‡è®¾ç½®é»˜è®¤å€¼ï¼Œå…¶å®žåœ¨ Swift ä¸­ï¼Œè¿˜æœ‰æ›´å¤šçš„åœ°æ–¹å¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼Œæ¯”å¦‚ï¼š ä¸ºå‡½æ•°å‚æ•°è®¾ç½®é»˜è®¤å€¼ ä¸º dictionary çš„æŸä¸ª key è®¾ç½®é»˜è®¤å€¼ å…ˆæ¥çœ‹çœ‹ä¸ºå‡½æ•°å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œè®¾ç½®åŽï¼Œè¯¥å‚æ•°åœ¨è°ƒç”¨æ—¶å°±å¯ä»¥çœç•¥ï¼š 1234567func greet(name: String = "World") -&gt; String &#123; "Hello,\(name)" &#125;greet("World!!!") //Hello,World!!!greet() //Hello,World å†æ¥çœ‹çœ‹ä¸º dictionary çš„æŸä¸ª key è®¾ç½®é»˜è®¤å€¼ã€‚ å‡å¦‚æœ‰ä¸ª names æ•°ç»„ï¼Œé‡Œé¢å­˜æ”¾çš„æ˜¯äººåï¼ŒçŽ°åœ¨è¦å†™ä¸ªå‡½æ•°è¿”å›žå‡ºçŽ°æ¬¡æ•°æœ€å¤šçš„äººåã€‚ä¸€ç§å®žçŽ°æ–¹å¼å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425let names = ["å°å¼ ", "å°æŽ", "å°å¼ ", "å°æŽ", "å°å¼ ", "å°çŽ‹"]func findMostCountName(inNames names: [String]) -&gt; String &#123; var occurrenceFor: [String : Int] = [:] for name in names &#123; if let count = occurrenceFor[name] &#123; occurrenceFor[name] = count + 1 &#125; else &#123; occurrenceFor[name] = 1 &#125; &#125; var maxCount = 0 var result = "" for (name, count) in occurrenceFor &#123; if count &gt; maxCount &#123; maxCount = count result = name &#125; &#125; return result&#125;let name = findMostCountName(inNames: names)print(name) //å°å¼  å†æ¥çœ‹çœ‹ç»™ dictionaryï¼šoccurrenceFor çš„ key è®¾ç½®é»˜è®¤å€¼çš„æ•ˆæžœï¼š 12345678910111213141516func findMostCountName(inNames names: [String]) -&gt; String &#123; var occurrenceFor: [String : Int] = [:] for name in names &#123; occurrenceFor[name, default: 0] += 1 //å¦‚æžœ key å­˜åœ¨ï¼Œè¿”å›žå¯¹åº”çš„ valueï¼›å¦åˆ™è¿”å›ž 0 &#125; var maxCount = 0 var result = "" for (name, count) in occurrenceFor &#123; if count &gt; maxCount &#123; maxCount = count result = name &#125; &#125; return result&#125; å¯è§ï¼Œç»™ dictionary é”®è®¾ç½®é»˜è®¤å€¼å¯ä»¥ä½¿ä»£ç çœ‹èµ·æ¥æ›´åŠ æ•´æ´ã€‚åªéœ€ä¸€è¡Œä»£ç ï¼Œå°±å¯ä»¥æ›¿æ¢æŽ‰ if-else è¯­å¥ã€‚ æ£€æŸ¥å˜é‡æ˜¯å¦åœ¨ä¸¤ä¸ªæ•°ä¹‹é—´å‡å¦‚æœ‰ä¸ªå­—æ®µï¼šå¹´é¾„ï¼ŒçŽ°åœ¨è¦åˆ¤æ–­å®ƒæ˜¯ä¸æ˜¯åœ¨ 18 å²åˆ° 32 å²ä¹‹é—´ã€‚é€šå¸¸æˆ‘ä»¬ä¼šè¿™ä¹ˆåšï¼š 12345let age = 23if age &gt;= 18 &amp;&amp; age &lt;= 32 &#123; print("ç¬¦åˆè¦æ±‚")&#125; å¯èƒ½è§‰å¾—åƒä¸Šé¢è¿™ä¹ˆå†™æ²¡å•¥é—®é¢˜ï¼Œä½†å†æ¥çœ‹çœ‹ä¸‹é¢è¿™ä¸ªï¼š 12345let age = 23if age &lt;= 18 &amp;&amp; age &gt;= 32 &#123; print("ç¬¦åˆè¦æ±‚")&#125; æ˜¯ä¸æ˜¯å¾ˆåƒï¼Œä½†è¿™ä¸ªæ—¶å€™ print è¯­å¥æ°¸è¿œä¹Ÿä¸ä¼šæ‰§è¡Œã€‚å¤§å®¶åœ¨è¯»è¿™ä¸¤ä¸ª if è¯­å¥çš„æ—¶å€™æœ‰ä»€ä¹ˆæ„Ÿå—ï¼Ÿæ˜¯ä¸æ˜¯éœ€è¦åœ¨å¤§è„‘ä¸­æœ‰é‚£ä¹ˆä¸€ä¸‹åœé¡¿ï¼Œæ¥æ€è€ƒç¬¦ä¸ç¬¦åˆæ¡ä»¶ã€‚è¿™å°±é€ æˆä¸æ˜“è¯»è€Œä¸”å®¹æ˜“å‡ºé”™ã€‚ åœ¨ Swift ä¸­æä¾›äº†æ›´æ˜“è¯»ã€ç®€ä¾¿çš„æ–¹æ³•æ¥å®žçŽ°ï¼š 123456789let age = 23if (18...32).contains(age) &#123; print("ç¬¦åˆè¦æ±‚")&#125;if (18...32) ~= age &#123; print("ç¬¦åˆè¦æ±‚")&#125; ç»“è¯­ å°½é‡ä½¿ç”¨å†…ç½®å‡½æ•°æ›¿ä»£ for å¾ªçŽ¯ åªæœ‰ä¸€è¡Œä»£ç çš„å‡½æ•°çœç•¥ return å…³é”®å­— é—­åŒ…çš„ç®€åŒ– æ£€æŸ¥æ•°ç»„è¶Šç•Œçš„æ–¹æ³• ä¸ºå‡½æ•°å‚æ•°å’Œå­—å…¸çš„ key æä¾›é»˜è®¤å€¼ æ£€æŸ¥å˜é‡æ˜¯å¦åœ¨ä¸¤ä¸ªæ•°ä¹‹é—´ ä»Šå¤©çš„å°æŠ€å·§å°±åˆ°è¿™å•¦~ å¤§å®¶è§‰å¾—æœ‰ç”¨ï¼Œä¸å¦¨åœ¨é¡¹ç›®ä¸­å®žè·µä¸€ä¸‹å“¦~ æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼šä½ å¯èƒ½ä¸çŸ¥é“çš„ Swift å¼€å‘å°æŠ€å·§â€”â€”Pt.1 - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®©ä½ çš„ Swift ä»£ç æ›´ Swift]]></title>
    <url>%2F%E8%AE%A9%E4%BD%A0%E7%9A%84-Swift-%E4%BB%A3%E7%A0%81%E6%9B%B4-Swift%2F</url>
    <content type="text"><![CDATA[å¼•è¨€Swift æœ‰å¾ˆå¤šå…¶ä»–è¯­è¨€æ‰€æ²¡æœ‰çš„ç‹¬ç‰¹çš„ç»“æž„å’Œæ–¹æ³•ï¼Œå› æ­¤å¾ˆå¤šåˆšå¼€å§‹æŽ¥è§¦ Swift çš„å¼€å‘è€…å¹¶æ²¡æœ‰å‘æŒ¥å®ƒæœ¬èº«çš„ä¼˜åŠ¿ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±æ¥çœ‹ä¸€çœ‹é‚£äº›è®©ä½ çš„ Swift ä»£ç æ›´ Swift çš„å†™æ³•å§~ æœ‰æ¡ä»¶çš„ for å¾ªçŽ¯çŽ°åœ¨ï¼Œæˆ‘ä»¬è¦å¯¹view.subviewsä¸­çš„UIButtonåšä¸€äº›ä¸å¯æè¿°çš„äº‹æƒ…ï¼Œç”¨ for å¾ªçŽ¯æ€Žä¹ˆæ¥éåŽ†å‘¢ï¼Ÿ åœ¨ä¸‹é¢çš„å†™æ³•ä¸­ï¼Œæ›´æŽ¨èåŽé¢ä¸¤ç§å†™æ³•ï¼š 12345678910111213141516âŒfor subView in view.subviews &#123; if let button = subView as? UIButton &#123; //ä¸å¯æè¿°çš„äº‹æƒ… &#125;&#125;âœ…for case let button as UIButton in view.subviews &#123; //ä¸å¯æè¿°çš„äº‹æƒ…&#125;âœ…for button in view.subviews where button is UIButton &#123; //ä¸å¯æè¿°çš„äº‹æƒ…&#125; enumerated()åœ¨ Swift ä¸­è¿›è¡Œ for å¾ªçŽ¯ï¼Œè¦æ‹¿åˆ°ä¸‹æ ‡å€¼ï¼Œä¸€èˆ¬çš„å†™æ³•è¦ä¹ˆå®šä¹‰å±€éƒ¨å˜é‡è®°å½•ä¸‹æ ‡å€¼ï¼Œè¦ä¹ˆéåŽ† 0..&lt;view.subviews.countã€‚å…¶å®žè¿˜æœ‰ä¸ªæ›´æ–¹ä¾¿çš„å†™æ³•ï¼šenumerated()ï¼Œå¯ä»¥ä¸€æ¬¡æ€§æ‹¿åˆ°ä¸‹æ ‡å€¼å’ŒéåŽ†çš„å…ƒç´ ã€‚ âŒ ç¬¬ä¸€ç§è‚¯å®šæ˜¯ä¸æŽ¨èçš„ï¼Œå› ä¸ºè¿˜è¦å®šä¹‰é¢å¤–çš„å±€éƒ¨å˜é‡ï¼Œå®¹æ˜“å‡ºé”™ï¼Œpass âœ… ç¬¬äºŒç§åœ¨åªéœ€è¦ç”¨åˆ°ä¸‹æ ‡å€¼çš„æ—¶å€™ï¼Œæ˜¯å¯ä»¥ç”¨çš„ï¼Œä½†å¦‚æžœè¿˜è¦ç”¨åˆ°ä¸‹æ ‡å€¼å¯¹åº”çš„å…ƒç´ ï¼Œå°±è¿˜å¾—å†å–ä¸€æ¬¡ï¼Œéº»çƒ¦ï¼Œpass âœ… ç¬¬ä¸‰ç§å°±æ¯”è¾ƒå®Œç¾Žï¼Œè™½ç„¶ä¸€æ¬¡æ€§å¯ä»¥æ‹¿åˆ°ä¸‹æ ‡å€¼å’Œå…ƒç´ ï¼Œä½†å…¶ä¸­ä¸€ä¸ªç”¨ä¸åˆ°å°±å¯ä»¥ç”¨ _ 12345678910111213141516171819202122232425262728âŒvar index: Int = 0for subView in view.subviews &#123; //ä¸å¯æè¿°çš„äº‹æƒ… index += 1&#125;âœ…for index in 0..&lt;view.subviews.count &#123; let subView = view.subviews[index] //ä¸å¯æè¿°çš„äº‹æƒ…&#125;âœ…//index å’Œ subView åœ¨å¾ªçŽ¯ä½“ä¸­éƒ½èƒ½ä½¿ç”¨åˆ°for (index, subView) in view.subviews.enumerated() &#123; //ä¸å¯æè¿°çš„äº‹æƒ…&#125;//åªç”¨åˆ° indexfor (index, _) in view.subviews.enumerated() &#123; //ä¸å¯æè¿°çš„äº‹æƒ…&#125;//åªç”¨åˆ° subViewfor (_, subView) in view.subviews.enumerated() &#123; //ä¸å¯æè¿°çš„äº‹æƒ…&#125; first(where: )filter æ˜¯ Swift ä¸­å‡ ä¸ªé«˜çº§å‡½æ•°ä¹‹ä¸€ï¼Œè¿‡æ»¤é›†åˆä¸­çš„å…ƒç´ æ—¶éžå¸¸çš„å¥½ç”¨ï¼Œä¸è¿‡åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ¯”å¦‚èŽ·å–é›†åˆä¸­æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæœ‰ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©first(where: ) 1234567891011121314151617let article1 = ArticleModel(title: "11", content: "å†…å®¹1", articleID: "11111", comments: [])let article2 = ArticleModel(title: "11", content: "å†…å®¹2", articleID: "22222", comments: [])let article3 = ArticleModel(title: "33", content: "å†…å®¹3", articleID: "3333", comments: [])let articles = [article1, article2, article3]âŒif let article = articles.filter(&#123; $0.articleID == "11111" &#125;).first &#123; print("\(article.title)-\(article.content)-\(article.articleID)")&#125;âœ…if let article = articles.first(where: &#123;$0.articleID == "11111"&#125;) &#123; print("\(article.title)-\(article.content)-\(article.articleID)") //11-å†…å®¹1-11111&#125; contains(where: )è¿™ä¸ªå’Œä¸Šé¢çš„first(where: )å‡ ä¹Žä¸€æ ·ï¼Œæ¯”å¦‚è¿™é‡Œè¦åˆ¤æ–­æ–‡ç« åˆ—è¡¨é‡Œæ˜¯å¦åŒ…å« articleID ä¸º 11111 çš„æ–‡ç« ï¼š 123456789âŒif !articles.filter(&#123; $0.articleID == "11111" &#125;).isEmpty &#123; //ä¸å¯æè¿°çš„äº‹æƒ…&#125;âœ…if articles.contains(where: &#123; $0.articleID == "11111"&#125;) &#123; //ä¸å¯æè¿°çš„äº‹æƒ…&#125; forEachå½“å¾ªçŽ¯ä½“å†…çš„é€»è¾‘æ¯”è¾ƒç®€å•æ—¶ï¼ŒforEach å¾€å¾€æ¯” forâ€¦inâ€¦æ¥çš„æ›´åŠ ç®€æ´ï¼š 1234567891011func removeArticleBy(ID: String) &#123; //åˆ åº“è·‘è·¯&#125;âŒfor article in articles &#123; removeArticleBy(ID: $0.articleID)&#125;âœ…articles.forEach &#123; removeArticleBy(ID: $0.articleID) &#125; è®¡ç®—å±žæ€§ vs æ–¹æ³•æˆ‘ä»¬çŸ¥é“è®¡ç®—å±žæ€§æœ¬èº«ä¸å­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯åœ¨ get ä¸­è¿”å›žè®¡ç®—åŽçš„å€¼ï¼Œåœ¨ set ä¸­è®¾ç½®å…¶ä»–å±žæ€§çš„å€¼ï¼Œæ‰€ä»¥å’Œæ–¹æ³•å¾ˆç±»ä¼¼ï¼Œä½†æ¯”æ–¹æ³•æ›´ç®€æ´ã€‚ä¸€èµ·æ¥çœ‹ä¸‹é¢çš„ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536âŒclass YourManager &#123; static func shared() -&gt; YourManager &#123; //ä¸å¯æè¿°çš„äº‹æƒ… &#125;&#125;let manager = YourManager.shared()âŒextension Date &#123; func formattedString() -&gt; String &#123; //ä¸å¯æè¿°çš„äº‹æƒ… &#125;&#125;let string = Date().formattedString()âœ…class YourManager &#123; static var shared: YourManager &#123; //ä¸å¯æè¿°çš„äº‹æƒ… &#125;&#125;let manager = YourManager.sharedâœ…extension Date &#123; var formattedString: String &#123; //ä¸å¯æè¿°çš„äº‹æƒ… &#125;&#125;let string = Date().formattedString åè®® vs å­ç±»åŒ–å°½é‡ä½¿ç”¨åè®®è€Œä¸æ˜¯ç»§æ‰¿ã€‚åè®®å¯ä»¥è®©ä»£ç æ›´åŠ çµæ´»ï¼Œå› ä¸ºç±»å¯åŒæ—¶éµå®ˆå¤šä¸ªåè®®ã€‚ æ­¤å¤–ï¼Œç»“æž„å’Œæžšä¸¾ä¸èƒ½å­ç±»åŒ–ï¼Œä½†æ˜¯å®ƒä»¬å¯ä»¥éµå®ˆåè®®ï¼Œè¿™å°±æ›´åŠ æ”¾å¤§äº†åè®®çš„å¥½å¤„ Struct vs Classå°½å¯èƒ½ä½¿ç”¨ Struct è€Œä¸æ˜¯ Classã€‚Struct åœ¨å¤šçº¿ç¨‹çŽ¯å¢ƒä¸­æ›´å®‰å…¨ï¼Œæ›´å¿«ã€‚ å®ƒä»¬æœ€ä¸»è¦çš„åŒºåˆ«ï¼Œ Struct æ˜¯å€¼ç±»åž‹ï¼Œè€Œ Classe æ˜¯å¼•ç”¨ç±»åž‹ï¼Œè¿™æ„å‘³ç€ Struct çš„æ¯ä¸ªå®žä¾‹éƒ½æœ‰å®ƒè‡ªå·±çš„å”¯ä¸€å‰¯æœ¬ï¼Œè€Œ Class çš„æ¯ä¸ªå®žä¾‹éƒ½æœ‰å¯¹æ•°æ®çš„å•ä¸ªå‰¯æœ¬çš„å¼•ç”¨ã€‚ è¿™ä¸ªé“¾æŽ¥æ˜¯è‹¹æžœå®˜æ–¹çš„æ–‡æ¡£ï¼Œè§£é‡Šå¦‚ä½•åœ¨ Struct å’Œ Class ä¹‹é—´åšå‡ºé€‰æ‹©ã€‚https://developer.apple.com/documentation/swift/choosing_between_structures_and_classesã€‚ ç»“è¯­è®©æˆ‘ä»¬çš„ Swift ä»£ç æ›´ Swift çš„æ–¹æ³•è¿œä¸æ­¢ä¸Šé¢è¿™äº›ï¼Œè¿™é‡Œè¦è¯´çš„æ˜¯ï¼Œå¹³æ—¶å†™ä»£ç æ—¶ï¼Œè¦åˆ»æ„çš„ä½¿ç”¨ Swift å¼ºå¤§çš„ç‰¹æ€§ï¼Œæ‰èƒ½å‘æŒ¥å®ƒæœ¬èº«çš„ä»·å€¼ã€‚ è€Œè¿™äº›ç‰¹æ€§å°±éœ€è¦å¤§å®¶åŽ»å¤šçœ‹çœ‹å®˜ç½‘çš„ä¾‹å­ï¼Œæˆ–è€…ä¸€äº›ä¸»æµçš„ Swift ç¬¬ä¸‰æ–¹åº“ï¼Œçœ‹çœ‹ä»–ä»¬æ˜¯å¦‚ä½•è¿ç”¨ Swift çš„ç‰¹æ€§çš„ã€‚ æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼šè®©ä½ çš„ Swift ä»£ç æ›´ Swift - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[5 ä¸ªè®© Swift æ›´ä¼˜é›…çš„æ‰©å±•â€”â€”Pt.2]]></title>
    <url>%2F5-%E4%B8%AA%E8%AE%A9-Swift-%E6%9B%B4%E4%BC%98%E9%9B%85%E7%9A%84%E6%89%A9%E5%B1%95%E2%80%94%E2%80%94Pt-2%2F</url>
    <content type="text"><![CDATA[åºŸè¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬ç›´æŽ¥å¼€å§‹ 5 ä¸ªè®© Swift æ›´ä¼˜é›…çš„æ‰©å±•çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†çš„ä¼ é€é—¨ï¼š 5 ä¸ªè®© Swift æ›´ä¼˜é›…çš„æ‰©å±•â€”â€”Pt.1 3. è‡ªå®šä¹‰æ“ä½œç¬¦å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼Œå®šä¹‰äº†ä¸€ä¸ª weak å˜é‡ someViewRefï¼Œç„¶åŽåˆ›å»ºã€è®¾ç½®å±žæ€§ã€æ·»åŠ åˆ°çˆ¶è§†å›¾ä¸Šã€‚ å¯ä»¥æ­£å¸¸æ‰§è¡Œï¼Œè¿˜æ˜¯ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ 123456789101112class ViewController: UIViewController &#123; private weak var someViewRef: UIView? override func viewDidLoad() &#123; super.viewDidLoad() someViewRef = UIView(frame: CGRect(x: 100, y: 50, width: 100, height: 100)) someViewRef?.backgroundColor = .red view.addSubview(someViewRef!) &#125;&#125; ç›¸ä¿¡å¤§å®¶ä¸€çœ¼å°±çœ‹å‡ºæ¥äº†ï¼Œæ‰§è¡Œåˆ°ç¬¬ä¸€å¥ someViewRef = UIView(frame: CGRect(x: 100, y: 50, width: 100, height: 100)) çš„æ—¶å€™å°±æŠ¥é”™äº† ç¬¬ä¸€å¥ï¼šå› ä¸º someViewRef æ˜¯ç”¨ weak ä¿®é¥°çš„ï¼Œæ‰€ä»¥ç«‹é©¬ä¼šè¢«é‡Šæ”¾ ç¬¬ä¸‰å¥ï¼šå› ä¸ºè¢«é‡Šæ”¾ï¼Œæ‰€ä»¥ someViewRef æ˜¯ nilï¼Œå¼ºåˆ¶è§£åŒ…å°±å´©äº† æ‰€ä»¥éœ€è¦æ¢ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬ç»™æŠ½å‡ºæ¥ä¸€ä¸ªå‡½æ•°ï¼š 12345678910111213141516class ViewController: UIViewController &#123; private weak var someViewRef: UIView? override func viewDidLoad() &#123; super.viewDidLoad() let someView = assign(someViewRef: &amp;someViewRef, someView: UIView(frame: CGRect(x: 100, y: 50, width: 100, height: 100))) view.addSubview(someView) someViewRef?.backgroundColor = .red &#125; func assign(someViewRef: inout Optional&lt;UIView&gt;, someView: UIView) -&gt; UIView &#123; someViewRef = someView return someView &#125;&#125; è¿™æ ·ä¸€ä¸ªçº¢è‰²å°æ–¹å—å°±æ˜¾ç¤ºå‡ºæ¥äº†ã€‚ä¸è¿‡è¿˜æ˜¯æœ‰ç‚¹é™åˆ¶ï¼Œå®ƒåªé€‚ç”¨äºŽ UIViewï¼Œæˆ‘ä»¬ç»™å®ƒä¸Šæ³›åž‹ï¼ŒæŠŠæ ¼å±€æ‰“å¼€ï¼š 1234func assign&lt;T&gt;(target: inout Optional&lt;T&gt;, value: T) -&gt; T &#123; target = value return value&#125; è¿™æ—¶å€™æˆ‘ä»¬çœ‹ä¸‹è°ƒç”¨: 1let someView = assign(target: &amp;someViewRef, value: UIView(frame: CGRect(x: 100, y: 50, width: 100, height: 100))) å‘çŽ° æ¯æ¬¡éƒ½è¦ä¼ å…¥ç›®æ ‡å˜é‡çš„å¼•ç”¨ï¼Œ&amp;someViewRefï¼Œç•¥éº»çƒ¦ã€‚ è€Œä¸”ä¼ å‚ value æ—¶ï¼Œéƒ½æ˜¯å…ˆåˆ›å»º UIView å®žä¾‹ï¼Œå†ä¼ å…¥ï¼Œæœ‰éšæ‚£ï¼Œæˆ‘ä»¬éœ€è¦è®©å®ƒå»¶è¿Ÿæ‰§è¡Œï¼Œè¿›å…¥ assign æ–¹æ³•å†…éƒ¨æ—¶å†åˆ›å»º å¤§æ‹› CD å·²å¥½ï¼Œæˆ‘ä»¬å®šä¹‰ä¸ªæ“ä½œç¬¦ï¼Œåƒ + - ä¸€æ ·ï¼Œå†åˆ©ç”¨ @autoclosure çš„ç‰¹æ€§ï¼Œå°±æœ‰äº†ä¸‹é¢çš„å®žçŽ°ï¼š 123456infix operator &lt;-public func &lt;- &lt;T&gt;(target: inout T?, value: @autoclosure () -&gt; T) -&gt; T &#123; let val = value() target = val return val&#125; å†æ¥çœ‹ä¸‹è°ƒç”¨ï¼š 1let someView = someViewRef &lt;- UIView() perfect~ 4. ç»Ÿè®¡é›†åˆä¸­æŸä¸ªå…ƒç´ çš„ä¸ªæ•°æˆ‘æƒ³å¤§å®¶éƒ½é‡åˆ°è¿‡è¿™æ ·çš„éœ€æ±‚ï¼Œä»Žç½‘ç»œè¯·æ±‚æ•°æ®åŽï¼Œå¾—åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åŽæˆ‘ä»¬è¦ç»Ÿè®¡é‡Œé¢æŸä¸ªå…ƒç´ æœ‰å¤šå°‘ä¸ªï¼Œæ¥çœ‹çœ‹ä¸‹é¢å‡ ä¸ªå¸¸ç”¨çš„æ–¹å¼ï¼Œä½ æœ‰æ²¡æœ‰ç”¨åˆ°è¿‡ï¼Ÿ 1234567891011121314151617181920let array = ["A", "A", "B", "A", "C"]// 1.var count = 0for value in array &#123; if value == "A" &#123; count += 1 &#125;&#125;// 2.count = 0for value in array where value == "A" &#123; count += 1&#125;// 3.count = array.filter &#123; $0 == "A" &#125;.count// 4... æˆ‘ä»¬çŸ¥é“èŽ·å–é›†åˆçš„æ€»ä¸ªæ•°ç”¨.countå°±å¯ä»¥ã€‚ä¸ºäº†é¡¹ç›®ä¸­ä»£ç æ›´åŠ ç»Ÿä¸€å’Œå¯ç»´æŠ¤æ€§ï¼Œä¸Žå…¶æœ‰ä¸Šé¢é‚£ä¹ˆå¤šç§å†™æ³•ï¼Œä¸å¦‚ä¹Ÿå®šä¹‰ä¸ªç±»ä¼¼çš„æ‰©å±•ï¼šcount(where:) 12345extension Sequence where Element: Equatable &#123; func count(where isIncluded: (Element) -&gt; Bool) -&gt; Int &#123; self.filter(isIncluded).count &#125;&#125; æˆ‘ä»¬ç›´æŽ¥ç»™ Sequence æ·»åŠ æ‰©å±•ï¼Œè¿™æ ·æ ¼å±€å°±åˆæ‰“å¼€äº†ï¼Œåƒ ArraySliceï¼Œä¹Ÿæ”¯æŒã€‚ 1234["A", "A", "B"].count(where: &#123; $0 == "A" &#125;) // 2["B", "A", "B"].dropLast(1) // --&gt; ArraySlice&lt;String&gt;.count(where: &#123; $0 == "B" &#125;) // 1 5. åŽ»é™¤é›†åˆä¸­æŒ‡å®šçš„é‡å¤çš„å¯¹è±¡æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘æƒ³ä¼šé‡åˆ°è¿™æ ·çš„éœ€æ±‚ï¼Œä»Žç½‘ç»œè¯·æ±‚æ•°æ®å¾—åˆ°ä¸€ä¸ªæ•°ç»„ï¼ŒçŽ°åœ¨éœ€è¦åˆ é™¤å…¶ä¸­é‡å¤çš„å…ƒç´ ï¼ŒåŒæ—¶ä¿è¯åŽŸæœ‰çš„é¡ºåºã€‚å…ˆçœ‹ç¬¬ä¸€ç§æ–¹æ³•ï¼š ç¬¬ä¸€ç§ï¼Œå†…éƒ¨å…ƒç´ æ˜¯å¯å“ˆå¸Œçš„ 123456extension Sequence where Element: Hashable &#123; func uniqued() -&gt; [Element] &#123; var seen = Set&lt;Element&gt;() return filter &#123; seen.insert($0).inserted &#125; &#125;&#125; [ 1, 2, 3, 1, 2 ].uniqued() // [ 1, 2, 3 ] 12345678910111213141516171819202122232425262728å†…éƒ¨ä½¿ç”¨äº† Set è¿›è¡Œ contains æŸ¥æ‰¾ï¼Œæ¯”æ•°ç»„çš„ `contains (_:)` æ–¹æ³•æ—¶é—´å¤æ‚åº¦è¦ä½Žã€‚- ç¬¬äºŒç§ï¼Œå†…éƒ¨å…ƒç´ ä¸æ˜¯å¯å“ˆå¸Œçš„å¦‚æžœæ•°ç»„å†…éƒ¨çš„å…ƒç´ æ˜¯è§£æžçš„ modelï¼Œè€Œä¸”æ²¡æœ‰éµå®ˆ Hashableï¼Œä¸Šé¢çš„æ–¹æ³•å°±ç”¨ä¸äº†äº†ã€‚```swiftextension Sequence &#123; func uniqued(comparator: (Element, Element) -&gt; Bool) -&gt; [Element] &#123; var result: [Element] = [] for element in self &#123; if result.contains(where: &#123;comparator(element, $0)&#125;) &#123; continue &#125; result.append(element) &#125; return result &#125;&#125;let article1 = ArticleModel(title: &quot;111&quot;, content: &quot;aa&quot;, articleID: &quot;11111&quot;, comments: [])let article2 = ArticleModel(title: &quot;222&quot;, content: &quot;aaa&quot;, articleID: &quot;22222&quot;, comments: [])let article3 = ArticleModel(title: &quot;111&quot;, content: &quot;aaaa&quot;, articleID: &quot;33333&quot;, comments: [])let article4 = ArticleModel(title: &quot;333&quot;, content: &quot;aaaaa&quot;, articleID: &quot;44444&quot;, comments: [])let articles = [article1, article2, article3, article4]let newarticles = articles.uniqued(comparator: &#123;$0.title == $1.title&#125;)print(newarticles) //ç»“æžœ article3 ä¼šè¢«åˆ é™¤ ç¬¬ä¸‰ç§ï¼Œkeypath ç‰ˆæœ¬ æœ€åŽå†æ¥ä¸ª keypath ç‰ˆæœ¬ï¼Œä¸è¿‡æ˜¯å¯¹ç¬¬äºŒç§çš„ä¸€å±‚å°è£…ï¼Œå†…éƒ¨ä¾ç„¶è°ƒç”¨çš„æ˜¯ç¬¬äºŒç§ 1234567extension Sequence &#123; func uniqued&lt;T: Equatable&gt;(_ keyPath: KeyPath&lt;Element, T&gt;) -&gt; [Element] &#123; uniqued &#123; $0[keyPath: keyPath] == $1[keyPath: keyPath] &#125; &#125;&#125;let newarticles = articles.uniqued(\.title) ç»“è¯­é€šè¿‡ä¸Šé¢æåˆ°çš„ 5 ç§ä¾‹å­ï¼Œå¯è§ Swift çš„ extension ç‰¹æ€§éžå¸¸çš„å¼ºå¤§ä¸”çµæ´»ï¼Œè®©ä»£ç çš„å¯æ‰©å±•æ€§å¤§å¤§æé«˜ã€‚ æ›´å¤šçš„ extension ç”¨æ³•ï¼Œå¤§å®¶æ…¢æ…¢æŽ¢ç´¢å§ï¼Œå“ˆå“ˆå“ˆ æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼š5 ä¸ªè®© Swift æ›´ä¼˜é›…çš„æ‰©å±•â€”â€”Pt.2 - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[5 ä¸ªè®© Swift æ›´ä¼˜é›…çš„æ‰©å±•â€”â€”Pt.1]]></title>
    <url>%2F5-%E4%B8%AA%E8%AE%A9-Swift-%E6%9B%B4%E4%BC%98%E9%9B%85%E7%9A%84%E6%89%A9%E5%B1%95%E2%80%94%E2%80%94Pt-1%2F</url>
    <content type="text"><![CDATA[å¼•è¨€ä½œä¸ºå¼€å‘è€…ï¼Œåº”è¯¥ç¼–å†™å…·æœ‰é«˜å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§çš„ä»£ç ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰©å±•åŽŸæœ‰çš„åŠŸèƒ½ï¼Œå†™å‡ºæ›´æ˜“è¯»ï¼Œæ›´ç®€æ´çš„ä»£ç ã€‚ ä¸‹é¢å°±ä»‹ç» 5 ä¸ªæ—¥å¸¸å¼€å‘ä¸­éžå¸¸å®žç”¨çš„æ‰©å±•ã€‚ 1. è‡ªå®šä¹‰ä¸‹æ ‡æ¥å®‰å…¨è®¿é—®æ•°ç»„æˆ‘æƒ³æ¯ä¸ªå¼€å‘äººå‘˜éƒ½è‡³å°‘ç»åŽ†è¿‡ä¸€æ¬¡index-out-of-boundsçš„æŠ¥é”™ã€‚å°±æ˜¯æ•°ç»„è¶Šç•Œï¼Œè¿™ä¸ªå¤§å®¶éƒ½æ‡‚ï¼Œå°±ä¸è¿‡å¤šä»‹ç»äº†ã€‚ä¸‹é¢æ˜¯ä¸ªæ•°ç»„è¶Šç•Œçš„ä¾‹å­ï¼š 12345let values = ["A", "B", "C"]values[0] // Avalues[1] // Bvalues[2] // Cvalues[3] // Fatal error: Index out of range æ—¢ç„¶æ˜¯ä¸‹æ ‡è¶…è¿‡äº†æ•°ç»„çš„å¤§å°ï¼Œé‚£æˆ‘ä»¬åœ¨å–å€¼ä¹‹å‰ï¼Œå…ˆæ£€æŸ¥ä¸‹æ ‡æ˜¯å¦è¶…è¿‡æ•°ç»„å¤§å°ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„å‡ ç§æ–¹æ¡ˆ: é€šè¿‡ if æ¥åˆ¤æ–­ä¸‹æ ‡ 123456if 2 &lt; values.count &#123; values[2] // "C"&#125;if 3 &lt; values.count &#123; values[3] // ä¸ä¼šèµ°åˆ°è¿™é‡Œ&#125; è™½ç„¶ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¾çš„å°±å¾ˆé‡å¤ç¹çï¼Œæ¯æ¬¡å–å€¼ä¹‹å‰éƒ½è¦åˆ¤æ–­ä¸€éä¸‹æ ‡ã€‚ å®šä¹‰å…¬å…±å‡½æ•° æ—¢ç„¶æ¯æ¬¡éƒ½è¦æ£€æŸ¥ä¸‹æ ‡ï¼Œé‚£å°±æŠŠæ£€æŸ¥ä¸‹æ ‡çš„é€»è¾‘æ”¾åœ¨ä¸€ä¸ªå‡½æ•°é‡Œ 12345678910func getValue&lt;T&gt;(in elements: [T], at index: Int) -&gt; T? &#123; guard index &gt;= 0 &amp;&amp; index &lt; elements.count else &#123; return nil &#125; return elements[index]&#125;let values = ["A", "B", "C"]getValue(in: values, at: 2) // "C"getValue(in: values, at: 3) // nil ä¸ä»…ä½¿ç”¨æ³›åž‹æ”¯æŒäº†ä»»ä½•ç±»åž‹çš„å…ƒç´ ï¼Œå½“æ•°ç»„è¶Šç•Œæ—¶ï¼Œè¿˜å¾ˆè´´å¿ƒçš„è¿”å›žäº† nilï¼Œé˜²æ­¢å´©æºƒã€‚ è™½ç„¶å¾ˆè´´å¿ƒï¼Œä½†æ¯æ¬¡å–å€¼éƒ½è¦æŠŠåŽŸæ•°ç»„ä¼ è¿›åŽ»ï¼Œæ˜¾çš„å°±å¾ˆå†—ä½™ã€‚ extension æ—¢ç„¶æ¯æ¬¡éƒ½è¦ä¼ å…¥æ•°ç»„å¾ˆå†—ä½™ï¼Œé‚£å°±æŠŠæ•°ç»„çš„å‚æ•°ç»™åŽ»æŽ‰ã€‚æˆ‘ä»¬çŸ¥é“ Swift ä¸€ä¸ªå¾ˆå¼ºå¤§çš„ç‰¹æ€§å°±æ˜¯ extensionï¼Œæˆ‘ä»¬ç»™ Arrayå®šä¹‰ä¸ª extensionï¼Œå¹¶æŠŠè¿™ä¸ªå‡½æ•°æ·»åŠ è¿›åŽ»ã€‚ 123456789101112extension Array &#123; func getValue(at index: Int) -&gt; Element? &#123; guard index &gt;= 0 &amp;&amp; index &lt; self.count else &#123; return nil &#125; return self[index] &#125;&#125;let values = ["A", "B", "C"]values.getValue(at: 2) // "C"values.getValue(at: 3) // nil subscript è™½ç„¶çœ‹èµ·æ¥å¥½å¾ˆå¤šäº†ï¼Œä½†å¯ä¸å¯ä»¥åƒåŽŸç”Ÿçš„å–å€¼ä¸€æ ·ï¼Œ ä¸€ä¸ª[]å°±æžå®šäº†å‘¢ï¼Ÿof courseï¼ 1234567891011extension Array &#123; subscript (safe index: Int) -&gt; Element? &#123; guard index &gt;= 0 &amp;&amp; index &lt; self.count else &#123; return nil &#125; return self[index] &#125;&#125;values[safe: 2] // "C"values[safe: 3] // nil è‡ªå®šä¹‰çš„[safe: 2]å’ŒåŽŸç”Ÿçš„ [2]éžå¸¸çš„æŽ¥è¿‘äº†ã€‚ä½†è‡ªå®šä¹‰çš„æä¾›äº†æ•°æ®è¶Šç•Œä¿æŠ¤æœºåˆ¶ã€‚ åº”ç”¨åˆ° Collection æ—¢ç„¶è¿™ä¹ˆæ£’ï¼Œå²‚èƒ½æ•°ç»„ä¸€äººç‹¬äº«ï¼Œæˆ‘ä»¬æŠŠå®ƒåº”ç”¨åˆ°æ‰€æœ‰ Collection åè®®ã€‚çœ‹èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆä¼˜é›…~ðŸ˜‰ 12345extension Collection &#123; public subscript (safe index: Self.Index) -&gt; Iterator.Element? &#123; (startIndex ..&lt; endIndex).contains(index) ? self[index] : nil &#125;&#125; 2. å¹³ç­‰çš„å¤„ç† nil å’Œç©ºå­—ç¬¦ä¸²åœ¨å¤„ç†å¯é€‰å€¼æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦å°†å®ƒä»¬ä¸Ž nil è¿›è¡Œæ¯”è¾ƒè¿›è¡Œç©ºæ£€æŸ¥ã€‚å½“ä¸º nil æ—¶ï¼Œæˆ‘ä»¬ä¼šæä¾›ä¸€ä¸ªé»˜è®¤å€¼è®©ç¨‹åºç»§ç»­æ‰§è¡Œã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š 123456func unwrap(value: String?) -&gt; String &#123; return value ?? "default value"&#125;unwrap(value: "foo") // foounwrap(value: nil) // default value ä½†æ˜¯è¿˜æœ‰ç§æƒ…å†µå°±æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œæœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æŠŠç©ºå­—ç¬¦ä¸²å½“åš nil çš„æƒ…å†µæ¥å¤„ç†ã€‚æ­¤æ—¶ï¼Œä¸ä»…è¦åšæŒ nilï¼Œè¿˜è¦æ£€æŸ¥ç©ºå­—ç¬¦ä¸²çš„æƒ…å†µ 1234567891011121314func unwrap(value: String?) -&gt; String &#123; let defaultValue = "default value" guard let value = value else &#123; return defaultValue &#125; if value.isEmpty &#123; return defaultValue &#125; return value&#125;unwrap(value: "foo") // foounwrap(value: "") // default valueunwrap(value: nil) // default value è™½ç„¶ä¹Ÿèƒ½è§£å†³é—®é¢˜ï¼Œä½†ä¾ç„¶çœ‹èµ·æ¥å¾ˆè‡ƒè‚¿ï¼Œæˆ‘ä»¬æŠŠä»–ç®€åŒ–ä¸€ä¸‹ï¼š 1234567func unwrapCompressed(value val: String?) -&gt; String &#123; return val != nil &amp;&amp; !val!.isEmpty ? val! : "default value"&#125;unwrapCompressed(value: "foo") // foounwrapCompressed(value: "") // default valueunwrapCompressed(value: nil) // default value è™½ç„¶ç®€åŒ–äº†å¾ˆå¤šï¼Œä½†ä¸æ˜“è¯»ï¼Œå¯ç»´æŠ¤æ€§ç•¥å·®ã€‚ å¯ä»¥æŠŠç©ºå­—ç¬¦ä¸²å…ˆè½¬åŒ–ä¸º nilï¼Œå†è¿›è¡Œå¤„ç†ï¼Œè¿™æ ·å°±å’Œå¤„ç† nil çš„æƒ…å†µä¸€è‡´äº†ã€‚ 12345678910111213141516171819public extension String &#123; var nilIfEmpty: String? &#123; self.isEmpty ? nil : self &#125;&#125;let foo: String? = nilif let value = foo?.nilIfEmpty &#123; print(value) //ä¸ä¼šè°ƒç”¨&#125;if let value = "".nilIfEmpty &#123; print(value) //ä¸ä¼šè°ƒç”¨&#125;if let value = "ABC".nilIfEmpty &#123; print(value) //ABC&#125; æ€»ç»“è¿™é‡Œå…ˆä»‹ç» 5 ä¸ªå¸¸ç”¨æ‰©å±•ä¸­çš„å…¶ä¸­ 2 ä¸ªï¼Œå‰©ä¸‹ 3 ä¸ªä¸”å¬ä¸‹å›žåˆ†è§£å•¦~ ç»™é›†åˆå¢žåŠ æ‰©å±•ï¼Œé˜²æ­¢å–å€¼è¶Šç•Œé€ æˆå´©æºƒ ç»™å­—ç¬¦ä¸²å¢žåŠ æ‰©å±•ï¼Œè®©ç©ºå­—ç¬¦ä¸²å˜ä¸º nil å¦‚æžœè§‰å¾—å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å¦¨åœ¨é¡¹ç›®ä¸­è¯•è¯•å§~ æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼š5 ä¸ªè®© Swift æ›´ä¼˜é›…çš„æ‰©å±•â€”â€”Pt.1 - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Swift,iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡æž„ä»£ç çš„ 5 ä¸ª Xcode æŠ€å·§]]></title>
    <url>%2F%E9%87%8D%E6%9E%84%E4%BB%A3%E7%A0%81%E7%9A%84-5-%E4%B8%AA-Xcode-%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[ä½œä¸ºä¸€åå¼€å‘äººå‘˜ï¼Œæœ‰æ—¶é‡æž„ä»£ç æ¯”å†™ä»£ç çš„æ—¶é—´éƒ½è¦å¤šï¼Œæ‰€ä»¥çŸ¥é“å¦‚ä½•é‡æž„ä¸€æ®µä»£ç æ˜¯å¼€å‘è€…éœ€è¦æŽŒæ¡çš„ä¸€é¡¹éžå¸¸é‡è¦çš„æŠ€èƒ½ä¹‹ä¸€ã€‚å®ƒè¿˜æœ‰å¾ˆå¤šçš„å¥½å¤„ï¼Œä¾‹å¦‚ï¼š æœ‰äº†é‡æž„æ€ç»´ï¼Œæˆ‘ä»¬ä»Žä¸€å¼€å§‹å°±èƒ½æœ‰æ„è¯†çš„åŽ»ç¼–å†™æ›´ç®€æ´ã€æ›´å®‰å…¨çš„ä»£ç  æé«˜ä»£ç çš„å¯æµ‹è¯•æ€§ å¯ä»¥æ›´å¥½çš„è¿›è¡Œ code review å¦å¤–ï¼Œè¿˜æœ‰ä¸“é—¨çš„ä¹¦ç±å’Œç½‘ç«™åŽ»ä»‹ç»å¦‚ä½•è¿›è¡Œä»£ç é‡æž„ã€‚ æ‰€ä»¥ï¼Œä»Šå¤©å°±æ¥åˆ†äº«ä½¿ç”¨ Xcode åŽ»é‡æž„ä»£ç çš„ 5 ä¸ªå°æŠ€å·§ã€‚ 1. æ‰¹é‡é‡å‘½åç»™å±žæ€§ã€å‚æ•°ã€æ–¹æ³•ã€ç±»å–ä¸ªå¥½åå­—ä¸ä»…å¯ä»¥ä¸€çœ‹åˆ°åå­—å°±çŸ¥é“æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œè¿˜æœ‰åˆ©äºŽåŽæœŸçš„ç»´æŠ¤å’Œäº¤æŽ¥ï¼Œæƒ³æƒ³å¦‚æžœå˜é‡åéƒ½æ˜¯ test1ã€test2 ä¹‹ç±»çš„ï¼Œå½“éœ€æ±‚å˜æ›´ï¼Œå†å›žå¤´çœ‹ä»£ç ï¼Œæ˜¯æœ‰å¤šä¹ˆçš„ç³Ÿå¿ƒã€‚ é‚£å¦‚æžœæƒ³ç»™å®ƒä»¬æ›´åï¼Œä½†æ˜¯è°ƒç”¨çš„åœ°æ–¹åˆæ¯”è¾ƒå¤šï¼Œéœ€è¦æ€Žä¹ˆé‡å‘½åå‘¢ï¼Ÿæœ‰åŒå­¦è¯´å…¨å±€æ›¿æ¢ï¼Œemmmâ€¦ ä¸å¤Ÿä¼˜é›…ï¼Œè€Œä¸”å®¹æ˜“æ›¿æ¢é”™ã€‚ æœ‰ä¸¤ç§é‡å‘½åçš„åœºæ™¯ï¼š renameé€‚åˆå…¨å±€æ›¿æ¢çš„åœºæ™¯ã€‚æ¯”å¦‚ï¼ŒæŸä¸ªæ–¹æ³•è¢«å¤šä¸ªç±»è°ƒç”¨ã€‚å°±å¯ä»¥ä½¿ç”¨ Xcode è‡ªå¸¦çš„ rename ç‰¹æ€§ã€‚åªéœ€è¦å³é”®é‡å‘½åçš„å¯¹è±¡ï¼Œå³å¯è°ƒå‡º rename ç‰¹æ€§ã€‚ ç‚¹åŠ rename åŽï¼ŒXcode ä¼šæœç´¢æ‰€æœ‰éœ€è¦é‡å‘½åçš„åœ°æ–¹ï¼Œæœç´¢å®ŒæˆåŽä¼šé«˜äº®æ˜¾ç¤ºã€‚ç¼–è¾‘é«˜äº®éƒ¨åˆ†ï¼Œç‚¹å‡»å³ä¸Šè§’ rename å°±é‡å‘½åæˆåŠŸå•¦ã€‚ Edit All in Scopeé€‚åˆé‡å‘½åçš„å¯¹è±¡åªåœ¨å½“å‰æ–‡ä»¶ä¸­è¢«ä½¿ç”¨ã€‚è¿™ç§æƒ…å†µä¸‹ï¼ŒXcode åªä¼šæœç´¢å½“å‰æ–‡ä»¶å†…éœ€è¦é‡å‘½åçš„åœ°æ–¹ï¼Œç„¶åŽé«˜äº®æ˜¾ç¤ºã€‚ä¿®æ”¹å¥½åŽï¼Œå›žè½¦å³å¯é‡å‘½åæˆåŠŸã€‚ 2. Generate Memberwise Initializerç‰¹åˆ«æ˜¯å¤„ç†æ¨¡å—ã€sdkå’Œä¸€äº›åº“çš„æ—¶å€™ï¼Œä¸èƒ½å®Œå…¨ä¾èµ–äºŽåˆå§‹åŒ–ç¨‹åºçš„è‡ªåŠ¨åˆæˆã€‚å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºè‡ªå·±çš„å…¬å…±åˆå§‹åŒ–å™¨ï¼Œä¸è¿‡å°±éœ€è¦å¤åˆ¶ç²˜è´´å„ä¸ªå±žæ€§ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚è¿˜å¥½ï¼ŒXcode æœ‰ä¸€ä¸ªæ–¹ä¾¿çš„ç‰¹æ€§ï¼Œå¯ä»¥è‡ªåŠ¨åˆ›å»ºæŒ‰æˆå‘˜å˜é‡é¡ºåºçš„åˆå§‹åŒ–å™¨ã€‚ å³é”®éœ€è¦ init çš„ç±»åž‹ï¼Œé€‰æ‹© Refactorï¼Œç„¶åŽå†é€‰æ‹© Generate Memberwise Initializerã€‚ Xcode ä½¿ç”¨ internal å…³é”®å­—åœ¨ç±»åž‹å£°æ˜Žçš„æ­£ä¸‹æ–¹åˆ›å»ºåˆå§‹åŒ–å™¨ã€‚æˆ‘ä»¬å¯ä»¥å°†å…³é”®å­—æ›´æ”¹ä¸º public (æˆ–è€…æˆ‘ä»¬éœ€è¦çš„å€¼) ï¼Œç„¶åŽåœ¨éœ€è¦çš„åœ°æ–¹å‰ªåˆ‡å’Œç²˜è´´ã€‚ 3. Add Missing Switch Casesæœ‰æ—¶æˆ‘ä»¬å®šä¹‰çš„æžšä¸¾çš„ cases å¤ªå¤šï¼Œå¦‚æžœå¯¹å…¶éåŽ†ï¼Œæ‰‹åŠ¨å†™æ¯ä¸ª case åŠ¿å¿…ä¼šå¾ˆæµªè´¹æ—¶é—´ã€‚é‚£ä¹ˆæœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥è‡ªåŠ¨å¡«å……æ‰€æœ‰ case å‘¢ï¼Ÿ å¯¹äºŽ OC æ¥è¯´ï¼Œåœ¨å†™å¥½ switch è¯­æ³•åŽï¼Œå³é”® switchï¼Œæ—¢å¯é€‰æ‹© Add Missing Switch Cases å³å¯è‡ªåŠ¨å¡«å……æ‰€æœ‰ caseï¼ŒçœŸé¦™~ ä½†æ˜¯è¿˜ä¸å¤Ÿé¦™ï¼Œå¯¹äºŽ Swift æ¥è¯´ï¼Œä¸ç”¨å†™ switch è¯­æ³•ï¼Œåªéœ€è¦è¾“å…¥ switch æžšä¸¾å˜é‡åï¼Œå›žè½¦å³å¯è‡ªåŠ¨å¡«å……æ‰€æœ‰ caseã€‚ OC å¿«è¢«æŠ›å¼ƒäº†ðŸ˜­ 4. å¤šè¡Œç¼–è¾‘æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¦åœ¨ä¸åŒçš„ä»£ç è¡Œç¼–å†™ç›¸åŒçš„ä»£ç ï¼Œé¢å‘ CV åˆä¸æ˜¯é‚£ä¹ˆçš„é«˜å¤§ä¸Šã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨éžå¸¸ç‚«é…·çš„å¿«æ·é”®æ‰“æ³•æ¥å®žçŽ°ã€‚ æ¯”å¦‚ï¼Œä¸‹é¢çš„æ¼”ç¤ºåŠ¨ç”»ï¼Œæ‰¹é‡æŠŠå…ƒç´ åŠ åˆ°å½“å‰ view ä¸Šã€‚ æŒ‰ä½ option + shift ç»“åˆé¼ æ ‡å·¦é”®é€‰æ‹©æ¿€æ´»å¤šè¡Œç¼–è¾‘ option å’Œ shift åˆ«æ¾å¼€ï¼Œç‚¹å‡»å³é”®ï¼Œé€‰ä¸­å˜é‡ æ¾å¼€ option å’Œ shiftï¼Œç„¶åŽå¤åˆ¶ç²˜è´´ æœ€åŽå°±å¯ä»¥æ‰¹é‡è¾“å…¥ç›¸åŒçš„ä»£ç å•¦~ æ²¡æœ‰å°è¯•è¿‡çš„å°ä¼™ä¼´ï¼ŒåŠ¨æ‰‹è¯•è¯•å§~ 5. Find Call Hierarchyæˆ‘ä»¬åœ¨çœ‹ä»£ç æ—¶ï¼Œæœ‰æ—¶éœ€è¦çŸ¥é“å‡½æ•°æˆ–å˜é‡è¢«è°ƒç”¨çš„æ‰€æœ‰ä½ç½®ã€‚é‚£ä¹ˆå°±å¯ä»¥å³é”®æ–¹æ³•åç§°ï¼Œæ‰¾åˆ°Find Call Hierarchyï¼Œåœ¨ Xcode å·¦ä¾§å°±ä¼šå‡ºçŽ°è¯¥æ–¹æ³•çš„è°ƒç”¨å±‚çº§ã€‚è¿™æ ·å°±å¾ˆæ–¹ä¾¿çš„çŸ¥é“ä»£ç æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ ç»“è¯­ä»¥ä¸Šå°±æ˜¯åœ¨é‡æž„å’Œæ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘è§‰å¾—éžå¸¸å®žç”¨çš„å‡ ä¸ªå°æŠ€å·§å•¦ã€‚æˆ‘ä¹Ÿè§‰å¾—ç†Ÿç»ƒçš„è¿ç”¨å¼€å‘å·¥å…·ï¼Œå¯ä»¥è®©æˆ‘ä»¬çš„å¼€å‘è¿‡ç¨‹æ›´åŠ çš„èˆ’æœã€‚å°ä¼™ä¼´ä»¬ä¸å¦¨è¯•ä¸€è¯•å“¦~ ä¹Ÿæ¬¢è¿Žå¤§å®¶æŠŠè‡ªå·±è§‰å¾—éžå¸¸å¥½ç”¨çš„ä¸€ä¸ªç‰¹æ€§åœ¨è¯„è®ºåŒºåˆ†äº«å“¦~ æœ¬æ–‡é¦–å‘æŽ˜é‡‘ï¼šé‡æž„ä»£ç çš„ 5 ä¸ª Xcode æŠ€å·§ - æŽ˜é‡‘ (juejin.cn)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS æ·»åŠ å…¨å±€æ°´å°]]></title>
    <url>%2FiOS-%E6%B7%BB%E5%8A%A0%E5%85%A8%E5%B1%80%E6%B0%B4%E5%8D%B0%2F</url>
    <content type="text"></content>
      <categories>
        <category>çŸ¥è¯†å°é›†</category>
      </categories>
      <tags>
        <tag>iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iPhone å¼ºåˆ¶æ¨ªç«–å±]]></title>
    <url>%2FiPhone-%E5%BC%BA%E5%88%B6%E6%A8%AA%E7%AB%96%E5%B1%8F%2F</url>
    <content type="text"><![CDATA[ç›®å‰è´Ÿè´£çš„ App å‡ ä¹Žå…¨éƒ¨é¡µé¢éƒ½æ˜¯ç«–å±æ“ä½œï¼Œ æ‰€ä»¥åœ¨ Targets-&gt;General-&gt;Device Orientation ä¸­åªå‹¾äº†Portrait. ä½†é¿å…ä¸äº†ä¸ªåˆ«ç•Œé¢éœ€è¦æ¨ªå±æ“ä½œï¼Œè¿™å°±éœ€è¦ å¼ºåˆ¶åˆ‡æ¢æ¨ªç«–å±äº†ï¼š åœ¨ AppDelegate ä¸­å®šä¹‰å…¬å¼€å±žæ€§ var allowRotation: Bool = false å®žçŽ° UIApplicationDelegate çš„ ä»£ç†æ–¹æ³•ï¼š 123456func application(_ application: UIApplication, supportedInterfaceOrientationsFor window: UIWindow?) -&gt; UIInterfaceOrientationMask &#123; if allowRotation &#123; return .landscape //æ¨ªå± &#125; return .portrait //ç«–å±&#125; ç»™ UIDevice æ·»åŠ æ‰©å±•æ–¹æ³•ï¼š 123456extension UIDevice &#123; class func switchNew(orientation: UIInterfaceOrientation) &#123; UIDevice.current.setValue(UIInterfaceOrientation.unknown.rawValue, forKey: "orientation") UIDevice.current.setValue(orientation.rawValue, forKey: "orientation") &#125;&#125; ç„¶åŽåœ¨éœ€è¦ æ¨ªå± çš„æŽ§åˆ¶å™¨ä¸­å®žçŽ°ä»¥ä¸‹ä»£ç ï¼š 123let appDelegate: AppDelegate = UIApplication.shared.delegate as! AppDelegateappDelegate.allowRotation = trueUIDevice.switchNew(orientation: .landscapeLeft) å½“ä»Žæ¨ªå±åˆ‡æ¢åˆ°ç«–å±æ—¶ï¼Œåœ¨ ç«–å± æŽ§åˆ¶å™¨ä¸­å®žçŽ°ä»¥ä¸‹ä»£ç : 123let appDelegate: AppDelegate = UIApplication.shared.delegate as! AppDelegateappDelegate.allowRotation = falseUIDevice.switchNew(orientation: .portrait) ä»¥ä¸Šå°±æ˜¯å®žçŽ°å¼ºåˆ¶æ¨ªç«–å±çš„å…¨éƒ¨å†…å®¹å•¦~ å¦‚æœ‰æ›´å¥½çš„æ–¹å¼æ¥å®žçŽ°ï¼Œæ¬¢è¿Žè®¨è®º~]]></content>
      <categories>
        <category>çŸ¥è¯†å°é›†</category>
      </categories>
      <tags>
        <tag>iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[cocoaPodsæŒ‡å—]]></title>
    <url>%2FcocoaPods%E6%8C%87%E5%8D%97%2F</url>
    <content type="text"><![CDATA[1ã€æ›´æ”¹è½¯ä»¶æº sudo gem update --system å¦‚æžœæç¤ºæ²¡æƒé™: Operation not permitted - /usr/bin/update_rubygemsä½¿ç”¨ sudo gem update -n /usr/local/bin --system gem sources --remove https://rubygems.org/ gem sources -a https://ruby.taobao.org/ gem sources -l 123æ³¨ï¼šç”±äºŽæ·˜å®æºä¸å†æ›´æ–°ï¼Œå»ºè®®æ›¿æ¢æˆRuby Chinaæºï¼šgem sources --remove https://ruby.taobao.org/gem sources -a https://gems.ruby-china.org/ 2ã€å®‰è£…CocoaPodssudo gem install cocoapods å¦‚æžœæç¤ºæ— æƒé™ï¼Œä½¿ç”¨ï¼šsudo gem install -n /usr/local/bin cocoapods 3ã€podåˆå§‹åŒ– æ™®é€šâ½…æ–¹å¼:(é€Ÿåº¦æ…¢) pod setup æ›´æ”¹CocoaPodsé•œåƒç´¢å¼•(é€Ÿåº¦å¿«â¼€ä¸€ç‚¹) 12pod repo remove masterpod repo add master http://git.oschina.net/akuandev/Specs.git pod repo update 4ã€ä½¿â½¤ç”¨CocoaPods åœ¨ç¨‹åºçš„è·Ÿè·¯å¾„æ–°å»ºâ½‚æ–‡ä»¶ Podfile ç¼–è¾‘ Podfile,æ·»åŠ æ­¤é¡¹ç›®éœ€è¦çš„å¼€æºç±»åº“ åœ¨ç»ˆç«¯cdåˆ°ç¨‹åºè·Ÿè·¯å¾„,æ‰§è¡Œ pod install å®‰è£…å¼€æºç±»åº“ 123æ³¨æ„,éœ€è¦è®°ä½å¦‚ä¸‹ 2 ç‚¹å³å¯:ä½¿ç”¨ CocoaPods â½£æˆçš„ .xcworkspace â½‚ä»¶æ¥æ‰“å¼€å·¥ç¨‹,â½½ä¸æ˜¯ä»¥å‰çš„ .xcodeproj æ–‡ä»¶ æ¯æ¬¡æ›´æ”¹äº† Podfileæ–‡ä»¶,ä½ éœ€è¦é‡æ–°æ‰§è¡Œä¸€æ¬¡ pod update (--verbose --no-repo-update) å‘½ä»¤ 5ã€æŸ¥æ‰¾ç¬¬ä¸‰â½…æ–¹ç±»åº“pod search AFNetworking 6ã€å…³äºŽ Podfile.lockâ€‹ å½“ä½ æ‰§è¡Œ pod install ä¹‹åŽ,é™¤äº† Podfile å¤–, CocoaPods è¿˜ä¼šâ½£æˆä¸€ä¸ªåä¸º Podfile.lock çš„æ–‡ä»¶,Podfile.lock åº”è¯¥åŠ â¼Šåˆ°ç‰ˆæœ¬æŽ§åˆ¶é‡Œé¢,ä¸åº”è¯¥æŠŠè¿™ä¸ªæ–‡ä»¶åŠ â¼Šåˆ° .gitignore ä¸­,è¿™æ ·å¤šäººåä½œçš„æ—¶å€™,å¯ä»¥é˜²æ­¢ç¬¬ä¸‰â½…åº“å‡çº§æ—¶é€ æˆå¤§å®¶å„è‡ªçš„ç¬¬ä¸‰â½…åº“ç‰ˆæœ¬ä¸ä¸€è‡´ 7ã€pod install å’Œ pod update çš„åŒºåˆ«è¿™æ˜¯è‹±æ–‡åŽŸæ–‡é“¾æŽ¥ è¿™æ˜¯ç¿»è¯‘ç‰ˆæœ¬]]></content>
      <categories>
        <category>cocoaPods</category>
      </categories>
      <tags>
        <tag>cocoaPods</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pod install & pod update]]></title>
    <url>%2Fpod-install-pod-update%2F</url>
    <content type="text"><![CDATA[åŽŸæ–‡é“¾æŽ¥ï¼šhttps://guides.cocoapods.org/using/pod-install-vs-update.html è¯‘è€…ï¼šSoledadã€DamonLu å¾®åšï¼š@CaiYue_ ä»‹ç»å¾ˆå¤šäººåˆšæŽ¥è§¦ CocoaPods æ—¶éƒ½ä¼šè§‰å¾— pod install åªåœ¨ç¬¬ä¸€æ¬¡ç»™é¡¹ç›®é…ç½® CocoaPods çš„æ—¶å€™ä½¿ç”¨ï¼Œpod update åªåœ¨ä¹‹åŽä½¿ç”¨ã€‚ç„¶è€Œ åŽ‹æ ¹å°±ä¸æ˜¯é‚£æ ·çš„ã€‚ï¼ˆè¯‘è€…æ³¨ï¼šåŽŸæ–‡ä¸­è¿˜æåˆ°è¿™é‡Œçš„installå’Œupdateçš„å«ä¹‰å’Œå­—å…¸ä¸­çš„æ„æ€ä¸å®Œå…¨ç›¸åŒï¼Œè¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æžï¼Œæ ¹æ®ç›¸å…³æ–‡æ¡£æ¥åˆ¤æ–­ã€‚ï¼‰ è¿™ç¯‡æ–‡ç« çš„ç›®çš„å°±æ˜¯å‘ä½ è§£é‡Šä»€ä¹ˆæ—¶å€™è¯¥ç”¨ pod install å’Œ pod update ã€‚ TL;DR: åœ¨ä½ çš„é¡¹ç›®é‡Œå®‰è£…æ–°podsæ—¶ä½¿ç”¨ pod installã€‚å³ä½¿ä½ å·²ç»æœ‰ Podfile å’Œæ›¾ç»è¿è¡Œè¿‡ pod installæŒ‡ä»¤ï¼Œæ‰€ä»¥å³ä½¿ä½ åœ¨å·²ç»ä½¿ç”¨CoacoPodsçš„é¡¹ç›®ä¸­åˆšåˆšå¢žæ·»ï¼ç§»é™¤ podsï¼Œä½ ä¹Ÿåº”å½“ä½¿ç”¨è¯¥å‘½ä»¤ã€‚ åªåœ¨ä½ æƒ³è®©podså‡çº§åˆ°æ–°ç‰ˆæœ¬æ—¶æ‰ä½¿ç”¨ pod updateã€‚ å…·ä½“ä½¿ç”¨åœºæ™¯pod installå½“ä½ ç¬¬ä¸€æ¬¡ä½ æƒ³èŽ·å–podsé¡¹ç›®æ—¶ï¼Œä»¥åŠå½“ä½ æ¯æ¬¡ç¼–è¾‘ä½ çš„ Podfile æ¥å¢žåŠ ã€æ›´æ–°æˆ–è€…ç§»é™¤æŸä¸ªpodçš„æ—¶å€™ã€‚ æ¯å½“ä½ è¿è¡Œ pod install æŒ‡ä»¤æ—¶â€”â€”ä¸‹è½½å’Œå®‰è£…podsæ—¶â€”â€”CocoaPodséƒ½ä¼šæŠŠæ¯ä¸ªå®‰è£…çš„podsçš„ç‰ˆæœ¬ï¼Œå†™åœ¨ Podfile.lock æ–‡ä»¶é‡Œã€‚è¿™ä¸ªæ–‡ä»¶è·Ÿè¸ªçºªå½•äº†å®‰è£…äº†çš„podsçš„ç‰ˆæœ¬ä¿¡æ¯å¹¶é”ä½ç‰ˆæœ¬ã€‚ å½“ä½ è¿è¡Œ pod install æ—¶ï¼Œå®ƒåªå®‰è£…æ²¡æœ‰åˆ—åœ¨ Podfile.lock é‡Œçš„podsã€‚ å¯¹äºŽå·²ç»åˆ—åœ¨ Podfile.lock ä¸­çš„podsï¼Œå®ƒä¼šä¸‹è½½ Podfile.lock ä¸­åˆ—çš„ç¡®åˆ‡çš„ç‰ˆæœ¬ï¼Œè€Œä¸ä¼šåŽ»æ£€æŸ¥è¿™äº›podsæ˜¯å¦æœ‰æ–°çš„å¯ç”¨ç‰ˆæœ¬ã€‚ å¯¹äºŽé‚£äº›è¿˜æ²¡æœ‰åˆ—åœ¨ Podfile.lock ä¸­çš„podsï¼Œå®ƒä¼šå¯»æ‰¾æ»¡è¶³ Podfile ä¸­çº¦æŸæ¡ä»¶çš„podsï¼ˆä¾‹å¦‚ pod â€˜MyPodâ€™,â€™~&gt;1.2â€™ï¼‰ pod outdatedå½“ä½ è¿è¡Œ pod outdated ï¼ŒCocoaPods ä¼šåˆ—å‡ºæ‰€æœ‰ Podfile.lock æ–‡ä»¶ä¸­å·²ç»è¿‡æ—¶çš„podsã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœä½ è¿è¡Œ pod update PODNAME ï¼ˆPODNAMEä¸ºåˆ—å‡ºçš„podsåç§°ï¼‰ï¼Œå®ƒä»¬å°†ä¼šè¢«æ›´æ–°ï¼ˆåªè¦å®ƒä»¬æ»¡è¶³ Podfile ä¸­æ»¡è¶³çš„çº¦æŸæ¡ä»¶ã€‚ï¼‰ pod updateå½“ä½ è¿è¡Œ pod update PODNAMEï¼ŒCoacoPodså°†ä¼šè¯•ç€åŽ»æ‰¾åä¸º PODNAME çš„podçš„æ›´æ–°ç‰ˆæœ¬ï¼Œè€Œä¸è€ƒè™‘ Podfile.lock æ–‡ä»¶ä¸­çš„å†…å®¹ã€‚å®ƒä¼šå°†è¯¥podæ›´æ–°è‡³æœ€æ–°ç‰ˆæœ¬ï¼ˆåŒæ—¶åªè¦å®ƒæ»¡è¶³Podfileä¸­çš„çº¦æŸï¼‰ï¼Œå¹¶ä¸”ä¹Ÿä¼šç›¸åº”çš„æ›´æ–° Podfile.lock ä¸­çš„å†…å®¹ã€‚ å¦‚æžœä½ è¿è¡Œ pod update ï¼Œä¸åŠ ä»»ä½•å‚æ•°ï¼ŒCocoaPodså°†ä¼šæŠŠæ‰€æœ‰åœ¨ Podfile ä¸­åˆ—ä¸¾çš„podsæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚ æŽ¨èç”¨æ³•ä½¿ç”¨ pod update PODNAMEï¼Œä½ å°†åªèƒ½å¤Ÿæ›´æ–°ä¸€ä¸ªç‰¹å®šçš„podï¼ˆæ£€æŸ¥æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬å¹¶ä¸”æ›´æ–°ï¼‰ã€‚è€Œä¸æ˜¯åƒ pod install é‚£æ ·ä¸åŽ»å°è¯•æ›´æ–°å·²å®‰è£…çš„podsã€‚ å½“ä½ æŠŠpodåŠ å…¥åˆ° Podfile åŽï¼Œä½ åº”å½“è¿è¡Œ pod install è€Œä¸æ˜¯ pod updateã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰å½“ä½ æƒ³åŽ»å‡çº§ç‰¹å®špodï¼ˆæˆ–æ˜¯å…¨éƒ¨podsï¼‰çš„æ—¶å€™æ‰ç”¨ pod update [PODNAME]ã€‚ æŠŠä½ çš„ Podfile.lock åŠ å…¥åˆ°ç‰ˆæœ¬æŽ§åˆ¶ä¸­ ä½œä¸ºæé†’ï¼Œå³ä½¿æˆ‘ä»¬ä¸éœ€è¦æŠŠPodsé¡¹ç›®ä¸Šä¼ åˆ°ç‰ˆæœ¬ç®¡ç†çš„ä»“åº“ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿåº”å½“å§‹ç»ˆcommit &amp; push æˆ‘ä»¬çš„ Podfile.lock æ–‡ä»¶ã€‚ å¦åˆ™ï¼Œå®ƒä¼šæ‰“ç ´ä¸Šé¢è§£é‡Šçš„å…³äºŽpod installèƒ½å¤Ÿé”å®šå·²å®‰è£…ç‰ˆæœ¬çš„pod çš„æ•´ä¸ªé€»è¾‘ è¯‘è€…æ³¨åŽŸæ–‡æœ«å°¾è¿˜ä¸¾äº†ä¸€ä¸ªå®žé™…ä¸­åº”ç”¨ pod install å’Œ pod update çš„ä¾‹å­ï¼Œå¹¶æäº†ä¸€ä¸ªä¸è¦åœ¨Podfileä¸­å†™æ­»ç‰¹å®šç‰ˆæœ¬çš„å»ºè®®ã€‚é“¾æŽ¥æˆ³æ­¤https://guides.cocoapods.org/using/pod-install-vs-update.htmlã€‚ åœºæ™¯ç¤ºä¾‹ä»¥ä¸‹æ˜¯ä¸€ä¸ªåœºæ™¯ç¤ºä¾‹ï¼Œç”¨äºŽè¯´æ˜Žåœ¨é¡¹ç›®ç”Ÿå‘½å‘¨æœŸä¸­å¯èƒ½é‡åˆ°çš„å„ç§ç”¨ä¾‹ã€‚ é˜¶æ®µ1ï¼šUser1 åˆ›å»ºé¡¹ç›® USER1åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œæƒ³ç”¨pods Aï¼ŒBï¼ŒCã€‚ä»–ä»¬ç”¨è¿™äº›pods åˆ›å»ºäº†ä¸€ä¸ªPodfileæ–‡ä»¶ï¼Œç„¶åŽè¿è¡Œpod installã€‚ è¿™å°†ä¼šå®‰è£…pods Aï¼ŒBï¼ŒCï¼Œä»–ä»¬éƒ½åœ¨ç‰ˆæœ¬1.0.0ã€‚ è¯¥Podfile.lockä¼šè·Ÿè¸ªå¹¶æ ‡è®°Aï¼ŒBï¼ŒCçš„ç‰ˆæœ¬ä¸º1.0.0ã€‚ é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå› ä¸ºè¿™æ˜¯ç¬¬ä¸€æ¬¡è¿è¡Œpod installï¼Œå¹¶ä¸”Pods.xcodeprojé¡¹ç›®å°šä¸å­˜åœ¨ï¼Œè¯¥å‘½ä»¤è¿˜ä¼šåˆ›å»ºPods.xcodeprojå’Œ .xcworkspaceï¼Œä½†è¿™åªæ˜¯è¯¥å‘½ä»¤çš„é¢å¤–äº§ç”Ÿçš„ï¼Œä¸æ˜¯ä¸»è¦åŠŸèƒ½ã€‚ é˜¶æ®µ2ï¼šUser1 æ·»åŠ ä¸€ä¸ªæ–°çš„podç¨åŽï¼Œuser1æƒ³è¦å°†pod Dæ·»åŠ åˆ°Podfileã€‚ å› æ­¤ï¼Œä»–ä»¬åº”è¯¥åœ¨ä¹‹åŽè¿è¡Œpod installï¼Œå³ä½¿pod Bçš„ä¸»è¦äººå‘˜åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œpod intallåŽå‘å¸ƒäº†podçš„1.1.0ç‰ˆæœ¬ï¼Œè¯¥é¡¹ç›®ä»ä¼šç»§ç»­ä½¿ç”¨1.0.0ç‰ˆæœ¬ - å› ä¸ºuser1åªæƒ³è¦æ·»åŠ pod Dï¼Œä¸æƒ³æ›´æ–°pod Bã€‚ è¿™å°±æ˜¯æœ‰äº›äººé”™è¯¯çš„åœ°æ–¹ï¼Œå› ä¸ºä»–ä»¬åœ¨è¿™ä½¿ç”¨ pod update - å¯èƒ½ä¼šè®¤ä¸ºâ€œæˆ‘æƒ³ç”¨æ–°çš„pod æ¥æ›´æ–°é¡¹ç›®â€ï¼Ÿ- è€Œä¸æ˜¯ä½¿ç”¨pod install- åœ¨é¡¹ç›®ä¸­å®‰è£…æ–°çš„podã€‚ é˜¶æ®µ3ï¼šUser2 åŠ å…¥è¯¥é¡¹ç›®ç„¶åŽï¼Œä»Žæœªå‚ä¸Žè¿‡è¯¥é¡¹ç›®çš„ç”¨æˆ·2åŠ å…¥è¯¥å›¢é˜Ÿã€‚ä»–ä»¬å…‹éš†ä»“åº“ç„¶åŽä½¿ç”¨pod installã€‚ Podfile.lockï¼ˆåº”è¯¥æäº¤åˆ°gitä»“åº“ï¼‰çš„å†…å®¹å°†ç¡®ä¿ä»–ä»¬å°†èŽ·å¾—å®Œå…¨ç›¸åŒçš„podsï¼Œå¹¶ä¸”ä½¿ç”¨ä¸Žuser1å®Œå…¨ç›¸åŒçš„ç‰ˆæœ¬ã€‚ å³ä½¿1.2.0ç‰ˆæœ¬çš„CçŽ°åœ¨å¯ç”¨ï¼Œuser2ä¹Ÿå°†èŽ·å¾—1.0.0ç‰ˆæœ¬çš„C. å› ä¸ºè¿™æ˜¯åœ¨Podfile.lockä¸­æ³¨å†Œçš„å†…å®¹ã€‚ pod Cè¢«Podfile.locké”å®šä¸ºç‰ˆæœ¬1.0.0ï¼ˆè¯¥æ–‡ä»¶å› æ­¤å¾—åï¼‰ã€‚ é˜¶æ®µ4ï¼šæ£€æŸ¥podçš„æ–°ç‰ˆæœ¬ç¨åŽï¼Œuser1éœ€è¦æ£€æŸ¥podsæ˜¯å¦æœ‰å¯ç”¨çš„æ›´æ–°ã€‚ä»–ä»¬è¿è¡Œpod outdatedè¿™å°†å‘Šè¯‰ä»–ä»¬ï¼Œpod Bæœ‰ä¸€ä¸ªæ–°1.1.0ç‰ˆæœ¬ï¼Œå¹¶ä¸”pod Cæœ‰ä¸€ä¸ªæ–°1.2.0ç‰ˆæœ¬ã€‚ user1å†³å®šä»–ä»¬æƒ³æ›´æ–°pod Bï¼Œè€Œä¸æ˜¯pod C; æ‰€ä»¥ä»–ä»¬è¿è¡Œpod update Bï¼Œå®ƒå°†Bä»Žç‰ˆæœ¬1.0.0æ›´æ–°åˆ°ç‰ˆæœ¬1.1.0ï¼ˆå¹¶ç›¸åº”åœ°æ›´æ–°Podfile.lockï¼‰ï¼Œä½†ä¼šä¿æŒCç‰ˆæœ¬1.0.0ï¼ˆä¸ä¼šæ›´æ–°åˆ°1.2.0ï¼‰ã€‚ åœ¨Podfileä¸­ä½¿ç”¨ç²¾ç¡®çš„ç‰ˆæœ¬æ˜¯ä¸å¤Ÿçš„æœ‰äº›äººå¯èƒ½ä¼šè®¤ä¸ºï¼Œé€šè¿‡åœ¨Podfileä¸­æŒ‡å®šPodçš„ç²¾ç¡®ç‰ˆæœ¬ï¼Œä¾‹å¦‚pod â€˜Aâ€™ï¼Œâ€™1.0.0â€™ï¼Œè¶³ä»¥ä¿è¯æ¯ä¸ªç”¨æˆ·éƒ½æ‹¥æœ‰ä¸Žå›¢é˜Ÿä¸­å…¶ä»–äººç›¸åŒçš„ç‰ˆæœ¬ã€‚ ç„¶åŽï¼Œä»–ä»¬ç”šè‡³å¯ä»¥ä½¿ç”¨pod updateï¼Œå³ä½¿åªæ˜¯æ·»åŠ ä¸€ä¸ªæ–°Podï¼Œä¹Ÿè®¤ä¸ºä»Žæ¥ä¸ä¼šæœ‰é£Žé™©æ›´æ–°å…¶ä»–Podï¼Œå› ä¸ºä»–ä»¬åœ¨Podfileä¸­å›ºå®šäº†podç‰ˆæœ¬ã€‚ ä½†äº‹å®žä¸Šï¼Œè¿™è¿˜ä¸è¶³ä»¥ä¿è¯æˆ‘ä»¬ä¸Šè¿°åœºæ™¯ä¸­çš„user1å’Œuser2å°†å§‹ç»ˆèŽ·å¾—å®Œå…¨ç›¸åŒç‰ˆæœ¬çš„æ‰€æœ‰Podã€‚ ä¸€ä¸ªå…¸åž‹çš„ä¾‹å­æ˜¯ï¼Œå¦‚æžœpod Aä¾èµ–äºŽpod A2 - åœ¨A.podspecä¸­å£°æ˜Žä¸ºä¾èµ–å…³ç³»â€™A2â€™ï¼Œâ€™ã€œ&gt; 3.0â€™ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨Podfileä¸­ä½¿ç”¨podâ€™Aâ€™ï¼Œâ€™1.0.0â€™ï¼Œç¡®å®žä¼šå¼ºåˆ¶user1å’Œuser2éƒ½ä½¿ç”¨pod Açš„ç‰ˆæœ¬1.0.0ï¼Œä½†æ˜¯ï¼š è€Œå½“user2ç¨åŽåŠ å…¥é¡¹ç›®æ—¶è¿è¡Œpod installæ—¶ï¼Œä»–ä»¬å¯èƒ½ä¼šåœ¨ç‰ˆæœ¬3.5ä¸­èŽ·å¾—pod A2ï¼ˆå› ä¸ºA2çš„ç»´æŠ¤è€…å¯èƒ½åŒæ—¶å‘å¸ƒäº†æ–°ç‰ˆæœ¬ï¼‰ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç¡®ä¿æ¯ä¸ªå›¢é˜Ÿæˆå‘˜ä½¿ç”¨æ¯å°è®¡ç®—æœºä¸Šæ‰€æœ‰podçš„ç›¸åŒç‰ˆæœ¬çš„å”¯ä¸€æ–¹æ³•æ˜¯ä½¿ç”¨Podfile.lockå¹¶æ­£ç¡®ä½¿ç”¨podå®‰è£…ä¸Žpodæ›´æ–°ã€‚ user1æœ€ç»ˆå¯èƒ½ä¼šåœ¨ç‰ˆæœ¬3.4ä¸­å¾—åˆ°A2ï¼ˆå› ä¸ºé‚£æ—¶æ˜¯A2çš„æœ€æ–°ç‰ˆæœ¬ï¼‰ è€Œå½“user2åŠ å…¥é¡¹ç›®åŽï¼Œè¿è¡Œpod installæ—¶ï¼Œä»–ä»¬å¯èƒ½ä¼šåœ¨ç‰ˆæœ¬3.5ä¸­èŽ·å¾—pod A2ï¼ˆå› ä¸ºA2çš„ç»´æŠ¤è€…å¯èƒ½åŒæ—¶å‘å¸ƒäº†æ–°ç‰ˆæœ¬ï¼‰ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç¡®ä¿æ¯ä¸ªå›¢é˜Ÿæˆå‘˜ä½¿ç”¨æ¯å°è®¡ç®—æœºä¸Šæ‰€æœ‰podçš„ç›¸åŒç‰ˆæœ¬çš„å”¯ä¸€æ–¹æ³•æ˜¯ä½¿ç”¨Podfile.lockå¹¶æ­£ç¡®ä½¿ç”¨pod installä¸Žpod updateã€‚]]></content>
      <categories>
        <category>cocoaPods</category>
      </categories>
      <tags>
        <tag>cocoaPods</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post 1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
</search>
